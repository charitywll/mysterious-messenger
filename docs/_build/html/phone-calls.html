

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Phone Calls &mdash; Mysterious Messenger Wiki v3.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Text Messages" href="text-messages.html" />
    <link rel="prev" title="Chatrooms" href="chatrooms.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits-and-acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginners-guide.html">Beginner’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="git-setup.html">Git Setup</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chatrooms.html">Chatrooms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Phone Calls</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-regular-phone-call">Creating a Regular Phone Call</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#incoming-calls">Incoming Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#outgoing-calls">Outgoing Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#missed-calls">Missed Calls</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-story-call">Creating a Story Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-a-phone-call">Writing a Phone Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="#providing-choices">Providing Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-a-character-s-voicemail">Changing a Character’s Voicemail</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="route-setup.html">Setting up a Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot-branches.html">Plot Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="cg-albums.html">CG Albums</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Phone Calls</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/phone-calls.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="phone-calls">
<h1>Phone Calls<a class="headerlink" href="#phone-calls" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Navigation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Phone Calls</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-regular-phone-call">Creating a Regular Phone Call</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#incoming-calls">Incoming Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#outgoing-calls">Outgoing Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#missed-calls">Missed Calls</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-story-call">Creating a Story Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-a-phone-call">Writing a Phone Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="#providing-choices">Providing Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-a-character-s-voicemail">Changing a Character’s Voicemail</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="creating-a-regular-phone-call">
<h2>Creating a Regular Phone Call<a class="headerlink" href="#creating-a-regular-phone-call" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Example files to look at:</p>
<ul class="simple">
<li><p>tutorial_5_coffee.rpy</p></li>
<li><p>tutorial_11_story_call.rpy</p></li>
</ul>
<p><em>A brief overview of the steps required (more detail below):</em></p>
<ol class="arabic">
<li><p>Create a label + the correct suffix for the phone call.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">my_label_outgoing_ja</span></code> to make an outgoing call to the character <code class="docutils literal notranslate"><span class="pre">ja</span></code> available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">my_label_incoming_ja</span></code> to trigger an incoming call from the character <code class="docutils literal notranslate"><span class="pre">ja</span></code> after the corresponding timeline item has been played.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">my_label_story_call_ja</span></code> to create a required Story Call after this timeline item from the character <code class="docutils literal notranslate"><span class="pre">ja</span></code>.</p></li>
</ol>
</div></blockquote>
</li>
<li><p>Write the phone call dialogue.</p></li>
<li><p>End the phone call with <code class="docutils literal notranslate"><span class="pre">return</span></code></p></li>
</ol>
</div>
<p>Phone calls that are tied to a particular timeline item follow a specific naming convention so the program can find them and make them available to the player. If you have a timeline item (i.e. a chatroom, Story Mode section, or Story Call) titled</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_4</span><span class="p">:</span>
</pre></div>
</div>
<p>then an <strong>incoming</strong> call should be named:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_4_incoming_z</span><span class="p">:</span>
</pre></div>
</div>
<p>an <strong>outgoing</strong> call should be named:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_4_outgoing_z</span><span class="p">:</span>
</pre></div>
</div>
<p>and an attached Story Call should be named:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_4_story_call_z</span><span class="p">:</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">z</span></code> is the variable of the character whom the player is calling or who is calling the player (see <a class="reference internal" href="creating-characters.html#creating-characters"><span class="std std-ref">Creating Characters</span></a> for a list of the existing characters).</p>
<p>The following section will cover <strong>incoming</strong> and <strong>outgoing</strong> calls to characters that are optional for continuing with the story. You can find more information on Story Calls at <a class="reference internal" href="route-setup.html#story-calls"><span class="std std-ref">Story Calls</span></a>.</p>
<div class="section" id="incoming-calls">
<h3>Incoming Calls<a class="headerlink" href="#incoming-calls" title="Permalink to this headline">¶</a></h3>
<p>Once the player is done playing through a timeline item, the program will automatically make any calls associated with that timeline item (through the naming convention mentioned above) available. If the program finds an <strong>incoming call</strong> label, then when the player finishes the timeline item they will receive an incoming call from the associated character. They have ten seconds to pick the phone call up, or they can reject the call and phone the character back later.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There can only be one incoming phone call after a given timeline item. However, it is possible to have both an incoming call after a chatroom as well as a different incoming call after an attached Story Mode.</p>
</div>
<p><strong>If the player rejects the incoming call</strong> or lets the timer run out without answering it, it acts like an <strong>outgoing</strong> call and the player can phone the character back. The player can typically play one additional timeline item before the phone call “expires” and they cannot call the character back to receive that conversation.</p>
</div>
<div class="section" id="outgoing-calls">
<h3>Outgoing Calls<a class="headerlink" href="#outgoing-calls" title="Permalink to this headline">¶</a></h3>
<p>Once a player finishes playing through an item that has associated outgoing calls (linked through the naming conventions mentioned above), all the associated outgoing calls will be made available. The player must then click on the characters in their Contacts list or use the redial button next to a past phone call on the History tab to call the character.</p>
<p>An outgoing call is typically available immediately after its associated timeline item and for one additional timeline item following when it became available, after which it will “expire” and the player will be unable to view that conversation by calling the character.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There can be up to one outgoing call per character available after each timeline item. If a player misses an incoming call from a character who also has an outgoing call, both conversations will be added to the pool of available calls. The player can then call the character back multiple times to receive both conversations.</p>
</div>
</div>
<div class="section" id="missed-calls">
<h3>Missed Calls<a class="headerlink" href="#missed-calls" title="Permalink to this headline">¶</a></h3>
<p>If the timer on an incoming phone call runs out, the phone call will be marked as “missed” and moved to the pool of available calls. The player can then call the character back to receive that conversation.</p>
<p>Phone calls can also be missed if real-time mode is turned on from the Developer settings. If an incoming call is scheduled to occur after a chatroom at 10:20 and the player opens the game after a new chatroom became available at 13:30, then they will receive a notification of a missed call at 13:30 (just before the new chatroom). If not too much time has passed since the missed call, they can then phone the character back to receive that conversation.</p>
<p>Additionally, if the player is using the game but has not yet played the 10:20 chatroom by 13:30, then if the game is open at 13:30 they will receive an incoming call which they can either accept or reject. This acts the same way as if the incoming call had been received immediately after playing the chatroom.</p>
</div>
</div>
<div class="section" id="creating-a-story-call">
<h2>Creating a Story Call<a class="headerlink" href="#creating-a-story-call" title="Permalink to this headline">¶</a></h2>
<p>Mysterious Messenger also includes “story calls”, phone calls from the characters which the player must see before they can continue with the story. Story calls can be standalone, appearing on the timeline as their own story with a trigger time, or they can be attached to chatrooms or standalone story mode items as well and played after the main/parent timeline item is complete.</p>
<p>To create a standalone story call, see <a class="reference internal" href="route-setup.html#story-calls"><span class="std std-ref">Story Calls</span></a>. Otherwise, the program will automatically create a story call if a certain naming convention is used. If the label of the parent item (i.e. a chatroom or standalone story mode) is <code class="docutils literal notranslate"><span class="pre">newyear_4_2</span></code>, then you can create a label with the suffix <code class="docutils literal notranslate"><span class="pre">_story_call_</span></code> + the file_id of the character who will be calling the player e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">newyear_4_2_story_call_ja</span><span class="p">:</span>
    <span class="c1"># This is a label for a story call from the character ja</span>
</pre></div>
</div>
<p>Unlike story mode labels, there is no “generic” story call; all story calls must come from a particular character who will be calling the player.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to hide the identity of the caller, you can create a special “Anonymous” ChatCharacter whose file_id you can use for the story call label.</p>
</div>
<p>Story calls, like chatrooms, can also expire if the player is playing in real-time or if they hang up in the middle of the call. Expired story calls are treated as though the caller left the player a voicemail. As with chatrooms, the expired version of the story call is found at the name of the original story call label + <code class="docutils literal notranslate"><span class="pre">_expired</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">newyear_4_2_story_call_ja_expired</span><span class="p">:</span>
    <span class="c1"># The expired version of the phone call</span>
</pre></div>
</div>
<p>A player who misses a story call or hangs up in the middle of it will either be able to play the expired version to continue the story, or can “buy back” the story call to experience the participated version.</p>
<p>Story call dialogue is written the same way as regular phone calls.</p>
</div>
<div class="section" id="writing-a-phone-call">
<h2>Writing a Phone Call<a class="headerlink" href="#writing-a-phone-call" title="Permalink to this headline">¶</a></h2>
<p>Phone call dialogue uses the regular character variables and doesn’t have any special arguments such as <code class="docutils literal notranslate"><span class="pre">(img=True)</span></code> or special fonts. Just use the character variable and write out dialogue in quotations e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_4_incoming_z</span><span class="p">:</span>
    <span class="n">z</span> <span class="s2">&quot;Hi, [name]! This is phone call dialogue.&quot;</span>
    <span class="n">z</span> <span class="s2">&quot;You write it like this.&quot;</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>Phone call labels end with <code class="docutils literal notranslate"><span class="pre">return</span></code> like all other labels.</p>
<p>You may also find Ren’Py’s “monologue mode” helpful, since you won’t be switching between expressions or different speakers very often. See <code class="docutils literal notranslate"><span class="pre">tutorial_5_coffee.rpy</span></code> for an example of this.</p>
</div>
<div class="section" id="providing-choices">
<h2>Providing Choices<a class="headerlink" href="#providing-choices" title="Permalink to this headline">¶</a></h2>
<p>Menus for phone calls are written very similarly to menus in other parts of the game:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">menu</span><span class="p">:</span>
    <span class="n">extend</span> <span class="s1">&#39;&#39;</span>
    <span class="s2">&quot;I love cats.&quot;</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;I do as well.&quot;</span>
    <span class="s2">&quot;I like dogs better.&quot;</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;Hmm. I will respectfully disagree with your opinion.&quot;</span>
</pre></div>
</div>
<p>The only notable difference is that you should include the line <code class="docutils literal notranslate"><span class="pre">extend</span> <span class="pre">''</span></code> right after the <code class="docutils literal notranslate"><span class="pre">menu:</span></code> statement and before the first choice. This will keep the dialogue said just before the menu on-screen while the choices are visible.</p>
<p>This menu, like others, also takes a <code class="docutils literal notranslate"><span class="pre">paraphrased</span></code> argument for either the menu as a whole or for an individual choice. For more information, see <a class="reference internal" href="miscellaneous.html#paraphrased-choices"><span class="std std-ref">Paraphrased Choices</span></a>.</p>
<p>Note also that if you are writing out the main character’s dialogue directly after a choice, the first line <strong>does not</strong> require a <code class="docutils literal notranslate"><span class="pre">(pauseVal=0)</span></code> clause.</p>
</div>
<div class="section" id="changing-a-character-s-voicemail">
<h2>Changing a Character’s Voicemail<a class="headerlink" href="#changing-a-character-s-voicemail" title="Permalink to this headline">¶</a></h2>
<p>If the program determines there are no phone calls available for a character when the player phones them, it will automatically play the character’s voicemail instead. You can change the character’s voicemail whenever you like during a route.</p>
<p>To update a character’s voicemail, use:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">ja</span><span class="o">.</span><span class="n">voicemail</span> <span class="o">=</span> <span class="s2">&quot;voicemail_1&quot;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ja</span></code> is the variable of the character whose voicemail you’re changing, and <code class="docutils literal notranslate"><span class="pre">voicemail_1</span></code> is the name of the label where the voicemail can be found. The default voicemail, “voicemail_1”, can be found in <code class="docutils literal notranslate"><span class="pre">01_mysme_engine/phonecall_system.rpy</span></code>.</p>
<p>Voicemails are written the same way as regular phone calls, though there are no restrictions on what a voicemail label can be called (but it’s recommended you pick a descriptive name for it, probably including the word “voicemail”).</p>
<p>You can use a character to say voicemail dialogue, or you can use the “generic” voicemail character, <code class="docutils literal notranslate"><span class="pre">vmail_phone</span></code> to say dialogue e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">voicemail_1</span><span class="p">():</span>
    <span class="k">voice</span> <span class="s2">&quot;voice files/voicemail_1.mp3&quot;</span>
    <span class="n">vmail_phone</span> <span class="s2">&quot;The person you have called is unavailable right now. Please leave a message at the tone or try again.&quot;</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>As shown above, you can also add voice files to the voicemail, which will be played during the next line of dialogue.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="text-messages.html" class="btn btn-neutral float-right" title="Text Messages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chatrooms.html" class="btn btn-neutral float-left" title="Chatrooms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>