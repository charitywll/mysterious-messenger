<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>Adding a New Character to Chatrooms</title>
    
      <link rel="stylesheet" href="_static/pygments.css"/>
      <link rel="stylesheet" href="_static/theme-light.css"/>
      <link rel="stylesheet" media="(prefers-contrast: high)" href="_static/theme-light-hc.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="_static/theme-dark.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark) and (prefers-contrast: high)" href="_static/theme-dark-hc.css"/>
      
        <link rel="stylesheet" media="print" href="_static/theme-print.css"/>
      
      
      
        
        <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        

        <!-- sphinx script_files -->
          <script src="_static/jquery.js"></script>
          <script src="_static/underscore.js"></script>
          <script src="_static/doctools.js"></script>
          <script src="_static/language_data.js"></script>

        <script src="_static/sphinx_nervproject_theme.js" defer></script>
      
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
   
  

  </head>

  <body>
    <div id="app" class="theme-container"><header class="navbar">
    <div id="header-identity" class="print-only">
        <img id="navbar_logo" src="_static/"/>
        <div id="navbar_title">Mysterious Messenger Wiki</div>
    </div>

  
  <button class="sidebar-button">
      <svg id="sidebar-button-svg" role="img" aria-labelledby="sidebar-button_label" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title id="sidebar-button_label">
              Toggle sidebar
          </title>
          <use xlink:href="_static/fa/solid.svg#bars"></use>
      </svg>
  </button>

  <a href="index.html" class="home-link">
      <span class="site-name">Mysterious Messenger Wiki</span>
  </a>

  <div class="links">
    <div class="nav-links can-hide">



    </div>
  </div>
  
</header>

      
      <table role="none" id="main_layout_table">
        <thead>
          <tr><th><div id="layout_header">
          </div></th></tr>
        </thead>
        <tbody><tr><td>
          <div id="appflex">
            
              <div class="sidebar" id="sidebar">
                
                <nav class="nav-links can-hide">
                  



                  
                </nav><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><nav class="sidebar-links">
  
</nav>
              </div>
            

            <div class="page">
                <nav class="body-header">
  
  
  

  <ul class="page-nav no-print">
</ul>
  
</nav>
                <main class="content">
                  
  <div class="section" id="adding-a-new-character-to-chatrooms">
<h1>Adding a New Character to Chatrooms<a class="headerlink" href="#adding-a-new-character-to-chatrooms" title="Permalink to this headline">¶</a></h1>
<p>First, go to <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/character_definitions.rpy">character_definitions.rpy</a>. Under the heading <strong>Chatroom Characters</strong> near the middle of the file, you will see several characters already defined.</p>
<p>For the purposes of this tutorial, these examples will show how to add a character named Bob to the program.</p>
<p>You need to give Bob a ChatCharacter object so he can speak in chatrooms. A definition for Bob may look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ChatCharacter</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
    <span class="n">file_id</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span>
    <span class="n">prof_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/Bob/bob1.png&quot;</span><span class="p">,</span>
    <span class="n">participant_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/b_chat.png&quot;</span><span class="p">,</span>
    <span class="n">heart_color</span><span class="o">=</span><span class="s2">&quot;#f995f1&quot;</span><span class="p">,</span>
    <span class="n">cover_pic</span><span class="o">=</span><span class="s2">&quot;Cover Photos/bob_cover.png&quot;</span><span class="p">,</span>
    <span class="n">status</span><span class="o">=</span><span class="s2">&quot;Bob&#39;s Status&quot;</span><span class="p">,</span>
    <span class="n">bubble_color</span><span class="o">=</span><span class="s2">&quot;#ffddfc&quot;</span><span class="p">,</span>
    <span class="n">glow_color</span><span class="o">=</span><span class="s2">&quot;#d856cd&quot;</span><span class="p">,</span>
    <span class="n">homepage_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/main_profile_bob.png&quot;</span><span class="p">,</span>
    <span class="n">phone_char</span><span class="o">=</span><span class="n">b_phone</span><span class="p">,</span>
    <span class="n">vn_char</span><span class="o">=</span><span class="n">b_vn</span><span class="p">)</span>
</pre></div>
</div>
<p>Though this looks long, this will ensure all the variables for Bob are set up properly at the start of the game.</p>
<p>Field | Description | Example |
——|————-|———|
name | The name of the character as it appears in the chatroom | “Bob” |
file_id | This is used for many things. For example, the program will look for Bob’s speech bubbles under “game/images/Bubble/b-Bubble.png” and for phone calls from Bob with the suffix “_incoming_b”. This is usually just a string of the name of the variable. | “b”
prof_pic | Profile picture for the character. 110x110px | “Profile Pics/Bob/bob1.png”
participant_pic | The image that shows on the timeline screen to show Bob was present in a chatroom. | “Profile Pics/b_chat.png”
heart_color | The colour of the heart icon that appears when awarding the player a heart point with Bob. | “#f995f1”
cover_pic | Bob’s cover photo on his profile screen | “Cover Photos/bob_cover.png”
status | Bob’s status update | “I ate a sandwich today.”
bubble_color | Optional; if this is not defined you must have an image in <code class="docutils literal notranslate"><span class="pre">game/images/Bubble/</span></code> called <code class="docutils literal notranslate"><span class="pre">b-Bubble.png</span></code>. If this argument is given a colour, it will instead dynamically colour a speech bubble to be that colour. | “#ffddfc”
glow_color | Same as above. If not given, there should be an image in <code class="docutils literal notranslate"><span class="pre">game/images/Bubble</span></code> called <code class="docutils literal notranslate"><span class="pre">b-Glow.png</span></code>. | “#d856cd”
homepage_pic | The picture to display on the home screen which the player clicks on to view Bob’s profile. This should generally be a headshot of Bob with a transparent background. | “Profile Pics/main_profile_bob.png”
phone_char | The Character object you defined for Bob for phone calls. See <a class="reference internal" href="Adding-a-New-Character-to-Phone-Calls.html"><span class="doc">Adding a New Character to Phone Calls</span></a> | b_phone
vn_char | The Character object you defined for Bob for VN sections. See <a class="reference internal" href="Adding-a-New-Character-to-VNs.html"><span class="doc">Adding a New Character to VNs</span></a> | b_vn</p>
<p>Those are the main variables you should set when defining a new character. There are a few additional parameters you can declare if you want:</p>
<p>Field | Description | Example |
——|————-|———|
voicemail | The label to jump to for this character’s voicemail | “voicemail_1”
right_msgr | Indicates this character should appear on the right side of the messenger (usually False for everyone but the MC) | False
emote_list | A list of all the character’s emojis. Currently unused. | False</p>
<p>Finally, below all the ChatCharacter definitions, there are two lists. The first is:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ri</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want Bob to show up on the home screen with a clickable profile, or to show up as a contact in the Contact book, you must add him to this list, e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ri</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<p>The second list is</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span> <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="k">in</span> <span class="n">character_list</span> <span class="k">if</span> <span class="k">not</span> <span class="n">c</span><span class="o">.</span><span class="n">right_msgr</span> <span class="p">]</span>
</pre></div>
</div>
<p>This list contains all the characters in <code class="docutils literal notranslate"><span class="pre">character_list</span></code> unless they have the property <code class="docutils literal notranslate"><span class="pre">right_msgr</span></code>, which generally means it’s True for everyone except the MC. Characters in this list will appear on the Profile screen with an indicator of how many points the player has with them.</p>
<p>If you want an icon to appear letting the player know how many heart points they have with Bob, you need to define an image called <code class="docutils literal notranslate"><span class="pre">greet</span> <span class="pre">b</span></code> since <code class="docutils literal notranslate"><span class="pre">b</span></code> is Bob’s file_id. These images are stored in <code class="docutils literal notranslate"><span class="pre">game/images/Menu</span> <span class="pre">Screens/Main</span> <span class="pre">Menu</span></code> and defined in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/variables.rpy">variables.rpy</a> under the heading <strong>Image Definitions - Menu</strong>.</p>
<p>If you don’t want Bob to appear in the Profile screen, replace this variable with a list of the characters whose heart points you want to display e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">]</span>
</pre></div>
</div>
<p>When all is said and done, you should be able to write dialogue for Bob like any other character in a chatroom, e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="s2">&quot;How&#39;s it going?&quot;</span>
</pre></div>
</div>
</div>

  
    <div class="section no-print">
    
      
    
    
    
    </div>
  

                </main><ul class="page-nav no-print">
</ul>
            </div>
          </div>
        </td></tr></tbody>
        <tfoot>
          <tr><th><div id="layout_footer">
          </div></th></tr>
        </tfoot>
      </table><footer class="footer" role="contentinfo">
  
    <p>
    
      &#169; Copyright 2020, Shawna P.
    
    </p>
  
  
    <p>
    
    
      Licensed under .
    
    
    </p>
  
  
    <p>
  
  
  
    Created using <a
        href="http://sphinx-doc.org/">Sphinx</a> 3.2.1 with
    <a href="https://www.nerv-project.eu">Nerv Project theme</a>
    based on <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>
    and <a href="https://ablog.readthedocs.io/">ABlog</a>.</p>
  
  <div class="pagecount"></div>
</footer>
    </div>
    
    
  </body>
</html>