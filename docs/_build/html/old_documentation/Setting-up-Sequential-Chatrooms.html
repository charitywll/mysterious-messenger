

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up Sequential Chatrooms &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits-and-acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../beginners-guide.html">Beginner’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-setup.html">Git Setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../chatrooms.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../phone-calls.html">Phone Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="../route-setup.html">Setting up a Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plot-branches.html">Plot Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cg-albums.html">CG Albums</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Setting up Sequential Chatrooms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/old_documentation/Setting-up-Sequential-Chatrooms.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-sequential-chatrooms">
<h1>Setting up Sequential Chatrooms<a class="headerlink" href="#setting-up-sequential-chatrooms" title="Permalink to this headline">¶</a></h1>
<p><em>A brief overview of the steps required (more detail below):</em></p>
<blockquote>
<div><ol class="simple">
<li><p>Define a list of <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> objects. The first item in the list should be the name of the ending e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Good</span> <span class="pre">End&quot;</span></code></p></li>
<li><p>The first field of a <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> object is the name of the day (e.g. “1st”), and then the second is a list of <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> objects. Fill these out with the information for each chatroom</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">Route</span></code> object and fill out its <code class="docutils literal notranslate"><span class="pre">default_branch</span></code> and optionally <code class="docutils literal notranslate"><span class="pre">branch_list</span></code> and <code class="docutils literal notranslate"><span class="pre">route_history_title</span></code> fields.</p></li>
<li><p>Either customize the route select screen, or in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/tutorial_day_scripts/tutorial_0_introduction.rpy">tutorial_0_introduction.rpy</a>, change the line <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">new_route_setup(route=tutorial_route)</span></code> so that <code class="docutils literal notranslate"><span class="pre">tutorial_route</span></code> is replaced by the variable for the Route object you defined</p></li>
<li><p>Select <strong>Start Over</strong> from the Settings screen to test out your new route</p></li>
</ol>
</div></blockquote>
<p>To set up a route, you need to first define a list of <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> objects. Each <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> object contains the information the program needs for one in-game Day. Go to <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/route_setup.rpy">route_setup.rpy</a> to see an example definition called <code class="docutils literal notranslate"><span class="pre">tutorial_good_end</span></code>.</p>
<p>At its most basic level, your definition will look as follows:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">my_route_good_end</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;Good End&quot;</span><span class="p">,</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s2">&quot;1st&quot;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s2">&quot;2nd&quot;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s2">&quot;3rd&quot;</span><span class="p">),</span>
    <span class="c1"># (...)</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s2">&quot;Final&quot;</span><span class="p">)]</span>
</pre></div>
</div>
<p>The <em>first</em> item in the list should be a string containing the name of the ending as it will appear in the History log. In this example, it is <code class="docutils literal notranslate"><span class="pre">&quot;Good</span> <span class="pre">End&quot;</span></code>.</p>
<p>The rest of the items in the list are <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> objects. They have the following fields:</p>
<blockquote>
<div><p>RouteDay | <code class="docutils literal notranslate"><span class="pre">day,</span> <span class="pre">archive_list=[],</span> <span class="pre">day_icon='day_common2',</span> <span class="pre">branch_vn=False</span></code> |</p>
</div></blockquote>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>day</td>
<td>A string containing the name of the day as it should show up in the chatroom timeline (e.g. "1st" appears in-game as "1st Day"). Note that a special icon appears over a day titled "Final".</td>
<td>"1st"</td>
</tr>
<tr>
<td>archive_list</td>
<td>A list of <code>ChatHistory</code> objects; see below</td>
<td><code>[ChatHistory("Example Chatroom", "example_chat", "00:01")]</code></td>
</tr>
<tr>
<td>day_icon</td>
<td>The icon to use for this day in the timeline. Defaults to <code>'day_common2'</code>. Previously defined images can be found in <a href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/variables.rpy" title="variables.rpy">variables.rpy</a> under the heading <strong>Chat Select Screen</strong> -- <code>"day_common1"</code> up to <code>"day_z"</code> can be used.</td>
<td>"day_s"</td>
</tr>
<tr>
<td>branch_vn</td>
<td>By default, this is False. Otherwise, it should contain a <code>VNMode</code> object. If this route is merged onto the main route during a plot branch, the <code>VNMode</code> object stored in <code>branch_vn</code> will appear after the chatroom immediately before the plot branch.</td>
<td><code>VNMode('plot_branch_bre')</code></td>
</tr>
</tbody>
</table><div class="section" id="chathistory-objects">
<h2>ChatHistory Objects<a class="headerlink" href="#chathistory-objects" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object contains all the information needed for a single chatroom (plus its accompanying VN mode, phone calls, etc). You will need one <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object for every chatroom in your game.</p>
<blockquote>
<div><p>ChatHistory | <code class="docutils literal notranslate"><span class="pre">title,</span> <span class="pre">chatroom_label,</span> <span class="pre">trigger_time,</span> <span class="pre">participants=[],</span> <span class="pre">vn_obj=False,</span> <span class="pre">plot_branch=False,</span> <span class="pre">save_img='auto'</span></code> |</p>
</div></blockquote>
<p>The initialization fields are explained below.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>The name of the chatroom as it should show up in the timeline. A string.</td>
<td>"My chatroom title"</td>
</tr>
<tr>
<td>chatroom_label</td>
<td>The name of the label to jump to for this chatroom. This is used for many things, such as phone call labels an VN labels. A string.</td>
<td>"day_1_chatroom_1"</td>
</tr>
<tr>
<td>trigger_time</td>
<td>The time this chatroom should trigger at. A string. This should be written in military time with leading zeroes, e.g. 1:00AM is written "01:00" and 1:38PM is written "13:38"</td>
<td>"05:28"</td>
</tr>
<tr>
<td>participants</td>
<td>Optional. A list of the ChatCharacter objects of the people who should be already present in the chatroom before the player enters. If left blank, no one starts in the chatroom.</td>
<td>[ja, ju]</td>
</tr>
<tr>
<td>vn_obj</td>
<td>Optional. Allows you to better customize the <code>VNMode</code> object associated with this chatroom. If not provided, the program will attempt to find appropriately labelled VN labels and create its own <code>VNMode</code> object.</td>
<td><code>VNMode("my_vn_label", y)</code></td>
</tr>
<tr>
<td>plot_branch</td>
<td>A <code>PlotBranch</code> object. Indicates if this chatroom should have a VN after it. A <code>PlotBranch</code> object only takes one argument -- a boolean telling it whether or not there is a VN that should only be shown after the plot branch has been proceeded through. By default, this is False.</td>
<td>PlotBranch(True)</td>
</tr>
<tr>
<td>save_img</td>
<td>The image that will appear in the save screen on the left when the player saves their game. This is usually an image indicating which route the player is on, if any. Previously defined images can be found in <a href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/variables.rpy" title="variables.rpy">variables.rpy</a> under the heading <strong>Save &amp; Load Images</strong>. Note that you do <em>not</em> need the prefix "save_", as this is automatically added. It is sufficient to use the character's file_id to get their save image e.g. "seven", "707", and "s" will all get you the same save image, <code>save_seven</code>.</td>
<td>"casual"</td>
</tr>
</tbody>
</table><p>If the <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object is not given a <code class="docutils literal notranslate"><span class="pre">VNMode</span></code> object, it will try to find a label with the correct naming scheme instead. However, in the event you want more control over the <code class="docutils literal notranslate"><span class="pre">vn_obj</span></code> field, you can define it yourself.</p>
<blockquote>
<div><p>VNMode | <code class="docutils literal notranslate"><span class="pre">vn_label,</span> <span class="pre">who=None,</span> <span class="pre">party=False,</span> <span class="pre">trigger_time=False</span></code> |</p>
</div></blockquote>
<p>These fields are explained below.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>vn_label</td>
<td>The name of the label to jump to for this VN. A string.</td>
<td>"my_vn_label"</td>
</tr>
<tr>
<td>who</td>
<td>The ChatCharacter object of the character who this VN is associated with. Changes the image in the timeline.</td>
<td><code>r</code></td>
</tr>
<tr>
<td>party</td>
<td>True if this VN is the party, False otherwise.</td>
<td><code>True</code></td>
</tr>
<tr>
<td>trigger_time</td>
<td>Currently unused. May be used in the future to have VNs independent of chatrooms.</td>
<td>False</td>
</tr>
</tbody>
</table><p>The other thing you may use is a <code class="docutils literal notranslate"><span class="pre">PlotBranch</span></code> object to indicate the existence of a plot branch.</p>
<blockquote>
<div><p>PlotBranch | <code class="docutils literal notranslate"><span class="pre">vn_after_branch=False</span></code> |</p>
</div></blockquote>
<p>This field is explained below.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>vn_after_branch</td>
<td>True if the chatroom this is attached to has a VN that should only be seen after the player has proceeded through the plot branch; False otherwise.</td>
<td>True</td>
</tr>
</tbody>
</table><p>A typical <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object, then, might look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">ChatHistory</span><span class="p">(</span><span class="s2">&quot;Welcome to the RFA!&quot;</span><span class="p">,</span> <span class="s2">&quot;day_1_chatroom_1&quot;</span><span class="p">,</span> <span class="s2">&quot;00:05&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="p">])</span>
</pre></div>
</div>
<p>This defines a <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object whose title is <code class="docutils literal notranslate"><span class="pre">&quot;Welcome</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">RFA!&quot;</span></code>. The label you need to put the chatroom in is called <code class="docutils literal notranslate"><span class="pre">day_1_chatroom_1</span></code> (so, somewhere in your program you should have</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_chatroom_1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">chat_begin</span><span class="p">(</span><span class="s1">&#39;earlyMorn&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>etc). The chatroom triggers at 00:05, or 12:05 AM. The character <code class="docutils literal notranslate"><span class="pre">s</span></code> starts in the chatroom.</p>
<p>A chatroom with a plot branch following it may look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">ChatHistory</span><span class="p">(</span><span class="s2">&quot;Suspicious Happenings...&quot;</span><span class="p">,</span> <span class="s2">&quot;day_7_chatroom_8&quot;</span><span class="p">,</span> <span class="s2">&quot;19:32&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">ja</span><span class="p">,</span> <span class="n">z</span><span class="p">],</span> <span class="n">save_img</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">plot_branch</span><span class="o">=</span><span class="n">PlotBranch</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<p>This defines a <code class="docutils literal notranslate"><span class="pre">ChatHistory</span></code> object whose title is <code class="docutils literal notranslate"><span class="pre">&quot;Suspicious</span> <span class="pre">Happenings...&quot;</span></code>, found at the label <code class="docutils literal notranslate"><span class="pre">day_7_chatroom_8</span></code>. It triggers at 19:32, or 7:32 PM. The characters <code class="docutils literal notranslate"><span class="pre">ja</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> begin in this chatroom. The save image for this chatroom is <code class="docutils literal notranslate"><span class="pre">'z'</span></code>. There is a plot branch after this chatroom, and a VN associated with this chatroom. This VN should only be shown to the player if they successfully pass the plot branch and continue on the main path (Hence <code class="docutils literal notranslate"><span class="pre">plot_branch=PlotBranch(True)</span></code> rather than just <code class="docutils literal notranslate"><span class="pre">plot_branch=PlotBranch()</span></code>).</p>
<p>All in all, a full route definition may look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">bob_good_end</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Good End&quot;</span><span class="p">,</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;1st&#39;</span><span class="p">,</span>
        <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Welcome!&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_1&#39;</span><span class="p">,</span> <span class="s1">&#39;00:01&#39;</span><span class="p">),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Relaxing&#39;</span><span class="p">,</span><span class="s1">&#39;day_1_chatroom_2&#39;</span><span class="p">,</span> <span class="s1">&#39;09:11&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">z</span><span class="p">,</span> <span class="n">b</span><span class="p">]),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;How are you doing?&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_3&#39;</span><span class="p">,</span> <span class="s1">&#39;09:53&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">r</span><span class="p">]),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Something strange...&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_4&#39;</span><span class="p">,</span> <span class="s1">&#39;11:28&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="p">]),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Do you...?&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_5&#39;</span><span class="p">,</span> <span class="s1">&#39;15:05&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">b</span><span class="p">]),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Kimchi Sandwich&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_6&#39;</span><span class="p">,</span> <span class="s1">&#39;18:25&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">ja</span><span class="p">]),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Very mysterious&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_7&#39;</span><span class="p">,</span> <span class="s1">&#39;20:41&#39;</span><span class="p">),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Will you visit?&#39;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_8&#39;</span><span class="p">,</span> <span class="s1">&#39;22:44&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">plot_branch</span><span class="o">=</span><span class="n">PlotBranch</span><span class="p">(</span><span class="kc">True</span><span class="p">)),</span>
        <span class="n">ChatHistory</span><span class="p">(</span><span class="s2">&quot;Happily Ever After&quot;</span><span class="p">,</span> <span class="s1">&#39;day_1_chatroom_9&#39;</span><span class="p">,</span> <span class="s1">&#39;23:26&#39;</span><span class="p">)</span>
        <span class="p">]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;2nd&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;3rd&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;4th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;5th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;6th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;7th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;8th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;9th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;10th&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;Final&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">ChatHistory</span><span class="p">(</span><span class="o">...</span><span class="p">)])]</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">[ChatHistory(...)]</span></code> is shorthand for a list of many more ChatHistory objects.</p>
</div>
<div class="section" id="displaying-a-route-in-the-history-screen">
<h2>Displaying a Route in the History Screen<a class="headerlink" href="#displaying-a-route-in-the-history-screen" title="Permalink to this headline">¶</a></h2>
<p>In order for the route to show up in the History screen, you also need to define a <code class="docutils literal notranslate"><span class="pre">Route</span></code> object. Do this after you have set up the variables for all the different endings/branches of the route itself.</p>
<blockquote>
<div><p>Route | <code class="docutils literal notranslate"><span class="pre">default_branch,</span> <span class="pre">branch_list=[],</span> <span class="pre">route_history_title=&quot;Common&quot;,</span> <span class="pre">has_end_title=True</span></code> |</p>
</div></blockquote>
<p>These fields are explained below.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>default_branch</td>
<td>The "default" path for this route to take. This should be the longest path from start to finish, and may not necessarily be the "good" end.</td>
<td><code>bob_good_end</code></td>
</tr>
<tr>
<td>branch_list</td>
<td>A list of all the other paths this route can take. Typically includes all the bad, normal, bad relationship ends, etc. May also be empty, if this route does not branch.</td>
<td>[ bob_bad_end_1, bob_bad_end_2, bob_normal_end ]</td>
</tr>
<tr>
<td>route_history_title</td>
<td>How this route should show up in the History screen e.g. "Bob Route" or "Common Route". "Route" is automatically appended to this title.</td>
<td>"Bob"</td>
</tr>
<tr>
<td>has_end_title</td>
<td>True if this route has a "title" at the beginning of its definition e.g. <code>default bob_good_end = ["Good End", RouteDay('1st', (...)</code> has the end title "Good End". If this route has no branching paths, there is no need to label the name of the ending, so this field can be False.</td>
<td>True</td>
</tr>
</tbody>
</table><p>Therefore a Route definition for a special New Year’s Eve route with endings for each of the characters as well as a normal ending might look like so:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">new_years_route</span> <span class="o">=</span> <span class="n">Route</span><span class="p">(</span>
    <span class="n">default_branch</span><span class="o">=</span><span class="n">new_years_normal_end</span><span class="p">,</span>
    <span class="n">branch_list</span><span class="o">=</span><span class="p">[</span><span class="n">new_years_ju</span><span class="p">,</span> <span class="n">new_years_ja</span><span class="p">,</span>
        <span class="n">new_years_s</span><span class="p">,</span> <span class="n">new_years_y</span><span class="p">,</span> <span class="n">new_years_z</span><span class="p">],</span>
    <span class="n">route_history_title</span><span class="o">=</span><span class="s2">&quot;New Year&#39;s&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can see some additonal definitions at the bottom of <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/route_setup.rpy">route_setup.rpy</a>.</p>
</div>
<div class="section" id="accessing-your-route-in-game">
<h2>Accessing your Route In-Game<a class="headerlink" href="#accessing-your-route-in-game" title="Permalink to this headline">¶</a></h2>
<p>To play your route, you can either customize the route select screen (see <a class="reference internal" href="Customizing-the-Route-Select-Screen.html"><span class="doc">Customizing the Route Select Screen</span></a>) or change the line <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">new_route_setup(route=tutorial_route)</span></code> in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/tutorial_day_scripts/tutorial_0_introduction.rpy">tutorial_0_introduction.rpy</a> so that <code class="docutils literal notranslate"><span class="pre">tutorial_good_end</span></code> is replaced by the “default route” of the Route object you defined.</p>
<p>For example, for the “New Year’s Route” defined above, you will have a line in your introductory label that has</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">new_years_route</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="managing-multiple-routes">
<h3>Managing Multiple Routes<a class="headerlink" href="#managing-multiple-routes" title="Permalink to this headline">¶</a></h3>
<p>If you would like to keep the Tutorial Route (or any other routes with different variables) accessible while you test your new route, you will first need to customize the route select screen (see <a class="reference internal" href="Customizing-the-Route-Select-Screen.html"><span class="doc">Customizing the Route Select Screen</span></a>) to have multiple buttons, one to lead to each route.</p>
<p>For example’s sake, the route select screen has buttons to lead to two routes, one called deep_story and one called another_story.</p>
<p>In the introductory label for each story, you may need to re-define the <code class="docutils literal notranslate"><span class="pre">character_list</span></code> and <code class="docutils literal notranslate"><span class="pre">heart_point_chars</span></code> variables so they display the correct characters. An example follows:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">deep_route_start</span><span class="p">:</span>
    <span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">deep_story_end</span><span class="p">)</span>
    <span class="k">$</span> <span class="n">current_chatroom</span> <span class="o">=</span> <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Starter Chat&#39;</span><span class="p">,</span> <span class="s1">&#39;deep_story_start&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00&#39;</span><span class="p">)</span>
    <span class="k">$</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">m</span><span class="p">]</span>
    <span class="k">$</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">]</span>
    <span class="c1"># Write your introductory chatroom here</span>

<span class="c1"># The following label is optional for text messages, voicemail, etc</span>
<span class="k">label</span> <span class="n">after_deep_story_start</span><span class="p">:</span>
    <span class="c1"># Optional things here</span>
    <span class="k">return</span>

<span class="k">label</span> <span class="n">another_story_start</span><span class="p">:</span>
    <span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">another_story_end</span><span class="p">)</span>
    <span class="k">$</span> <span class="n">current_chatroom</span> <span class="o">=</span> <span class="n">ChatHistory</span><span class="p">(</span><span class="s1">&#39;Starter Chat&#39;</span><span class="p">,</span> <span class="s1">&#39;another_story_start&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00&#39;</span><span class="p">)</span>
    <span class="k">$</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">m</span><span class="p">]</span>
    <span class="k">$</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">]</span>
    <span class="c1"># Write your introductory chatroom here</span>

<span class="c1"># The following label is optional for text messages, voicemail, etc</span>
<span class="k">label</span> <span class="n">after_another_story_start</span><span class="p">:</span>
    <span class="c1"># Optional things here</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>The main difference is that <code class="docutils literal notranslate"><span class="pre">another_story</span></code> includes the characters <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">v</span></code>, while <code class="docutils literal notranslate"><span class="pre">deep_route</span></code> does not. When the player begins playing the route, explicitly setting <code class="docutils literal notranslate"><span class="pre">character_list</span></code> and <code class="docutils literal notranslate"><span class="pre">heart_point_chars</span></code> ensures the correct profiles are shown on the chat home screen and that the player can see how many heart points they have with the relevant characters.</p>
<p>Similarly, explicitly writing <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">current_chatroom</span> <span class="pre">=</span> <span class="pre">ChatHistory('Starter</span> <span class="pre">Chat',</span> <span class="pre">'deep_story_start',</span> <span class="pre">'00:00')</span></code> allows you to use the label <code class="docutils literal notranslate"><span class="pre">after_deep_story_start</span></code> to put any text messages, voicemail changes, spaceship thoughts, etc.</p>
</div>
</div>
<div class="section" id="playing-your-route">
<h2>Playing Your Route<a class="headerlink" href="#playing-your-route" title="Permalink to this headline">¶</a></h2>
<p>To play your new route, re-launch the program and select <strong>Start Over</strong> from the Settings screen, then <strong>Original Story</strong> to test out your new route.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>