

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Adding a New Character to Chatrooms &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Credits-and-Acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Useful-Built-in-Features.html">Useful Built-in Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Beginners-Guide.html">Beginner’s Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Adding a New Character to Chatrooms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/old_documentation/Adding-a-New-Character-to-Chatrooms.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="adding-a-new-character-to-chatrooms">
<h1>Adding a New Character to Chatrooms<a class="headerlink" href="#adding-a-new-character-to-chatrooms" title="Permalink to this headline">¶</a></h1>
<p>First, go to <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/character_definitions.rpy">character_definitions.rpy</a>. Under the heading <strong>Chatroom Characters</strong> near the middle of the file, you will see several characters already defined.</p>
<p>For the purposes of this tutorial, these examples will show how to add a character named Bob to the program.</p>
<p>You need to give Bob a ChatCharacter object so he can speak in chatrooms. A definition for Bob may look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ChatCharacter</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
    <span class="n">file_id</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span>
    <span class="n">prof_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/Bob/bob1.png&quot;</span><span class="p">,</span>
    <span class="n">participant_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/b_chat.png&quot;</span><span class="p">,</span>
    <span class="n">heart_color</span><span class="o">=</span><span class="s2">&quot;#f995f1&quot;</span><span class="p">,</span>
    <span class="n">cover_pic</span><span class="o">=</span><span class="s2">&quot;Cover Photos/bob_cover.png&quot;</span><span class="p">,</span>
    <span class="n">status</span><span class="o">=</span><span class="s2">&quot;Bob&#39;s Status&quot;</span><span class="p">,</span>
    <span class="n">bubble_color</span><span class="o">=</span><span class="s2">&quot;#ffddfc&quot;</span><span class="p">,</span>
    <span class="n">glow_color</span><span class="o">=</span><span class="s2">&quot;#d856cd&quot;</span><span class="p">,</span>
    <span class="n">homepage_pic</span><span class="o">=</span><span class="s2">&quot;Profile Pics/main_profile_bob.png&quot;</span><span class="p">,</span>
    <span class="n">phone_char</span><span class="o">=</span><span class="n">b_phone</span><span class="p">,</span>
    <span class="n">vn_char</span><span class="o">=</span><span class="n">b_vn</span><span class="p">)</span>
</pre></div>
</div>
<p>Though this looks long, this will ensure all the variables for Bob are set up properly at the start of the game.</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the character as it appears in the chatroom</td>
<td>"Bob"</td>
</tr>
<tr>
<td>file_id</td>
<td>This is used for many things. For example, the program will look for Bob's speech bubbles under "game/images/Bubble/b-Bubble.png" and for phone calls from Bob with the suffix "_incoming_b". This is usually just a string of the name of the variable.</td>
<td>"b"</td>
</tr>
<tr>
<td>prof_pic</td>
<td>Profile picture for the character. 110x110px</td>
<td>"Profile Pics/Bob/bob1.png"</td>
</tr>
<tr>
<td>participant_pic</td>
<td>The image that shows on the timeline screen to show Bob was present in a chatroom.</td>
<td>"Profile Pics/b_chat.png"</td>
</tr>
<tr>
<td>heart_color</td>
<td>The colour of the heart icon that appears when awarding the player a heart point with Bob.</td>
<td>"#f995f1"</td>
</tr>
<tr>
<td>cover_pic</td>
<td>Bob's cover photo on his profile screen</td>
<td>"Cover Photos/bob_cover.png"</td>
</tr>
<tr>
<td>status</td>
<td>Bob's status update</td>
<td>"I ate a sandwich today."</td>
</tr>
<tr>
<td>bubble_color</td>
<td>Optional; if this is not defined you must have an image in <code>game/images/Bubble/</code> called <code>b-Bubble.png</code>. If this argument is given a colour, it will instead dynamically colour a speech bubble to be that colour.</td>
<td>"#ffddfc"</td>
</tr>
<tr>
<td>glow_color</td>
<td>Same as above. If not given, there should be an image in <code>game/images/Bubble</code> called <code>b-Glow.png</code>.</td>
<td>"#d856cd"</td>
</tr>
<tr>
<td>homepage_pic</td>
<td>The picture to display on the home screen which the player clicks on to view Bob's profile. This should generally be a headshot of Bob with a transparent background.</td>
<td>"Profile Pics/main_profile_bob.png"</td>
</tr>
<tr>
<td>phone_char</td>
<td>The Character object you defined for Bob for phone calls. See <a href="Adding-a-New-Character-to-Phone-Calls.md">Adding a New Character to Phone Calls</a></td>
<td>b_phone</td>
</tr>
<tr>
<td>vn_char</td>
<td>The Character object you defined for Bob for VN sections. See <a href="Adding-a-New-Character-to-VNs.md">Adding a New Character to VNs</a></td>
<td>b_vn</td>
</tr>
</tbody>
</table><p>Those are the main variables you should set when defining a new character. There are a few additional parameters you can declare if you want:</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>voicemail</td>
<td>The label to jump to for this character's voicemail</td>
<td>"voicemail_1"</td>
</tr>
<tr>
<td>right_msgr</td>
<td>Indicates this character should appear on the right side of the messenger (usually False for everyone but the MC)</td>
<td>False</td>
</tr>
<tr>
<td>emote_list</td>
<td>A list of all the character's emojis. Currently unused.</td>
<td>False</td>
</tr>
</tbody>
</table><p>Finally, below all the ChatCharacter definitions, there are two lists. The first is:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ri</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want Bob to show up on the home screen with a clickable profile, or to show up as a contact in the Contact book, you must add him to this list, e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">character_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ri</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</pre></div>
</div>
<p>The second list is</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span> <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="k">in</span> <span class="n">character_list</span> <span class="k">if</span> <span class="k">not</span> <span class="n">c</span><span class="o">.</span><span class="n">right_msgr</span> <span class="p">]</span>
</pre></div>
</div>
<p>This list contains all the characters in <code class="docutils literal notranslate"><span class="pre">character_list</span></code> unless they have the property <code class="docutils literal notranslate"><span class="pre">right_msgr</span></code>, which generally means it’s True for everyone except the MC. Characters in this list will appear on the Profile screen with an indicator of how many points the player has with them.</p>
<p>If you want an icon to appear letting the player know how many heart points they have with Bob, you need to define an image called <code class="docutils literal notranslate"><span class="pre">greet</span> <span class="pre">b</span></code> since <code class="docutils literal notranslate"><span class="pre">b</span></code> is Bob’s file_id. These images are stored in <code class="docutils literal notranslate"><span class="pre">game/images/Menu</span> <span class="pre">Screens/Main</span> <span class="pre">Menu</span></code> and defined in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/variables.rpy">variables.rpy</a> under the heading <strong>Image Definitions - Menu</strong>.</p>
<p>If you don’t want Bob to appear in the Profile screen, replace this variable with a list of the characters whose heart points you want to display e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">heart_point_chars</span> <span class="o">=</span> <span class="p">[</span><span class="n">ju</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">ja</span><span class="p">]</span>
</pre></div>
</div>
<p>When all is said and done, you should be able to write dialogue for Bob like any other character in a chatroom, e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="s2">&quot;How&#39;s it going?&quot;</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>