

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Real-Time Text Conversations &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits-and-acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../beginners-guide.html">Beginner’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-setup.html">Git Setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../chatrooms.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../phone-calls.html">Phone Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="../route-setup.html">Setting up a Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plot-branches.html">Plot Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cg-albums.html">CG Albums</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Real-Time Text Conversations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/old_documentation/Real-Time-Text-Conversations.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="real-time-text-conversations">
<h1>Real-Time Text Conversations<a class="headerlink" href="#real-time-text-conversations" title="Permalink to this headline">¶</a></h1>
<p><strong>Example files to look at: <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/v2.2.1-docs/game/tutorial_day_scripts/tutorial_3_text_message.rpy">tutorial_3_text_message.rpy</a></strong></p>
<p>Unlike regular text messages, real-time text conversations play out similar to a chatroom with a single character. The player receives a text message, and upon entering the conversation, cannot leave until either the conversation is over or the player exits the conversation and it is lost. See <a class="reference internal" href="Regular-Text-Messages.html"><span class="doc">Regular Text Messages</span></a> for more information on regular text messages instead.</p>
<div class="section" id="beginning-a-text-conversation">
<h2>Beginning a Text Conversation<a class="headerlink" href="#beginning-a-text-conversation" title="Permalink to this headline">¶</a></h2>
<p><strong>Example files to look at: <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/v2.2.1-docs/game/tutorial_day_scripts/tutorial_3_text_message.rpy">tutorial_3_text_message.rpy</a></strong></p>
<p><em>A brief overview of the steps required (more detail below):</em></p>
<blockquote>
<div><ol class="simple">
<li><p>Create a label using the prefix <code class="docutils literal notranslate"><span class="pre">after_</span></code> + the name of the chatroom you want to send the text messages after e.g. <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">after_my_chatroom</span></code></p></li>
<li><p>Begin the text chain with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text(s,</span> <span class="pre">real_time=True)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character who is sending the message</p></li>
<li><p>Write dialogue for the conversation. You may use <code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Generator.xlsx</span></code> to assist with this.</p></li>
<li><p>End the text chain with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text_end('convo1')</span></code> where <code class="docutils literal notranslate"><span class="pre">'convo1'</span></code> is an optional label to jump to to allow the player to reply to the message</p></li>
<li><p>End the entire <code class="docutils literal notranslate"><span class="pre">after_</span></code> label with the line <code class="docutils literal notranslate"><span class="pre">return</span></code></p></li>
<li><p>Create a label for the conversation (e.g. <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">convo1:</span></code>) and begin with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">text_begin(s)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character sending the message</p></li>
<li><p>Write the text message dialogue as you would a chatroom, including elements such as <code class="docutils literal notranslate"><span class="pre">(pauseVal=0)</span></code> after the MC’s dialogue.</p></li>
<li><p>Finish the conversation label with <code class="docutils literal notranslate"><span class="pre">jump</span> <span class="pre">text_end</span></code></p></li>
</ol>
</div></blockquote>
<p>To have the characters begin a text conversation with the player after a chatroom, much like regular text messages, you need to have a label that follows a specific naming convention. For example, if your chatroom is called</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">my_chatroom</span><span class="p">:</span>
</pre></div>
</div>
<p>then you need to create a label called</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">after_my_chatroom</span><span class="p">:</span>
</pre></div>
</div>
<p>Then to begin writing the dialogue that will appear in the popup notifying the player of a new text message, begin with</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">compose_text</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">real_time</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>where r is the variable of the character who will text the player. <code class="docutils literal notranslate"><span class="pre">real_time=True</span></code> indicates to the program that this conversation will take place “in real-time” once the player enters the conversation.</p>
<p>You can then write the character’s dialogue the way you would in a chatroom. These messages will show up as a “backlog” of sorts before the player enters the conversation, so it should be brief.</p>
<p>At the end of the initial messages, write</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">compose_text_end</span><span class="p">(</span><span class="s1">&#39;convo1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">'convo1'</span></code> is the name of the label to jump to to continue the text message conversation. This can be named anything, though it’s recommended you come up with a consistent naming scheme so you don’t accidentally have two labels with the same name.</p>
<p>You can repeat this for as many text conversations as you’d like to have, beginning each with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text(r,</span> <span class="pre">real_time=True)</span></code> and ending with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text_end('convo1')</span></code>, of course swapping out the character variables and label names for different values.</p>
<p>Next, create a label with the name you passed it in <code class="docutils literal notranslate"><span class="pre">compose_text_end</span></code> and begin it with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">text_begin(r)</span></code> where <code class="docutils literal notranslate"><span class="pre">r</span></code> is the variable of the character who is in the conversation.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">convo1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, write out the conversation just like a chatroom, including adding CGs, emojis, and changing fonts. Text messages do not currently support special speech bubbles. You can begin the label with additional dialogue before a menu choice. Like in chatrooms, menu choices should be preceeded with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">answer</span></code> in order to show the answer button at the bottom of the screen. Unlike regular text messages, you can award the player as many heart points as you would like, as they will be awarded in real-time.</p>
<p>Finally, end the text conversation with</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">jump</span> <span class="n">text_end</span>
</pre></div>
</div>
<p>An example of a label to jump to for a real-time text conversation might look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">convo1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">r</span> <span class="s2">&quot;Some sample text.&quot;</span>
    <span class="n">r</span> <span class="s2">&quot;This is continuing the conversation from before.&quot;</span>
    <span class="k">call</span> <span class="n">answer</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Choice 1&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 1&quot;</span> <span class="p">(</span><span class="n">pauseVal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">r</span> <span class="s2">&quot;Reply to choice 1.&quot;</span>
        <span class="s2">&quot;Choice 2&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 2&quot;</span> <span class="p">(</span><span class="n">pauseVal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="n">r</span> <span class="s2">&quot;Reply to choice 2.&quot;</span>
    <span class="n">r</span> <span class="s2">&quot;More dialogue for the conversation.&quot;</span>
    <span class="k">call</span> <span class="n">answer</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Choice 3&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 3&quot;</span> <span class="p">(</span><span class="n">pauseVal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">r</span> <span class="s2">&quot;Reply to choice 3.&quot;</span>
        <span class="s2">&quot;Choice 4&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 4&quot;</span> <span class="p">(</span><span class="n">pauseVal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="n">r</span> <span class="s2">&quot;Reply to choice 4.&quot;</span>
    <span class="n">r</span> <span class="s2">&quot;Final dialogue.&quot;</span>
    <span class="k">jump</span> <span class="n">text_end</span>
</pre></div>
</div>
</div>
<div class="section" id="leaving-real-time-text-conversations">
<h2>Leaving Real-Time Text Conversations<a class="headerlink" href="#leaving-real-time-text-conversations" title="Permalink to this headline">¶</a></h2>
<p>Unlike regular text messages, real-time text conversations function more like chatrooms. Thus, if the player clicks the “Back” button during a real-time text conversation, they will be asked if they’d like to end the conversation.</p>
<p><strong>Backing out of a real-time text conversation means that conversation will no longer be available to continue</strong>, though the player will retain any heart points or CGs they collected before they exited the conversation. There is no option to “replay” text message conversations, but unlike chatrooms they do not expire until another text conversation overwrites them.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>