

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Regular Text Messages &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Credits-and-Acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Useful-Built-in-Features.html">Useful Built-in Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Beginners-Guide.html">Beginner’s Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Regular Text Messages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/old_documentation/Regular-Text-Messages.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="regular-text-messages">
<h1>Regular Text Messages<a class="headerlink" href="#regular-text-messages" title="Permalink to this headline">¶</a></h1>
<p>There are two kinds of text messaging styles available in this program. The first, referred to as “regular text messages”, delivers text messages in “chunks” which the player can reply to whenever they like. The second style, called “real-time text conversations”, plays out similar to a one-on-one chatroom. The player receives a text message, and upon entering the conversation, cannot leave until the conversation is either over or the player ends the conversation themselves. The following sections are on regular text messages. See <a class="reference internal" href="Real-Time-Text-Conversations.html"><span class="doc">Real-Time Text Conversations</span></a> for more on real-time texting conversations instead.</p>
<div class="section" id="writing-text-messages">
<h2>Writing Text Messages<a class="headerlink" href="#writing-text-messages" title="Permalink to this headline">¶</a></h2>
<p><strong>Example files to look at: <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/v2.2.1-docs/game/tutorial_day_scripts/tutorial_5_coffee.rpy">tutorial_5_coffee.rpy</a>, <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/v2.2.1-docs/game/tutorial_day_scripts/tutorial_3_text_message.rpy">tutorial_3_text_message.rpy</a></strong></p>
<p><em>A brief overview of the steps required (more detail below):</em></p>
<blockquote>
<div><ol class="simple">
<li><p>Create a label using the prefix <code class="docutils literal notranslate"><span class="pre">after_</span></code> + the name of the chatroom you want to send the text messages after e.g. <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">after_my_chatroom</span></code></p></li>
<li><p>Begin the text chain with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text(s)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character who is sending the message</p></li>
<li><p>Write dialogue for the conversation. You may use <code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Generator.xlsx</span></code> to assist with this.</p></li>
<li><p>End the text chain with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">compose_text_end('menu1')</span></code> where <code class="docutils literal notranslate"><span class="pre">'menu1'</span></code> is an optional label to jump to to allow the player to reply to the message</p></li>
<li><p>End the entire <code class="docutils literal notranslate"><span class="pre">after_</span></code> label with the line <code class="docutils literal notranslate"><span class="pre">return</span></code></p></li>
<li><p>Create a label for the reply (e.g. <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">menu1:</span></code>) and begin with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">text_begin(s)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character sending the message</p></li>
<li><p>Add a menu and optionally award the player a heart point</p></li>
<li><p>(Optional) Allow the player to reply to the text message again by writing <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">s.text_label</span> <span class="pre">=</span> <span class="pre">'menu2'</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character sending the message and <code class="docutils literal notranslate"><span class="pre">'menu2'</span></code> is the name of the menu to jump to to let the player reply to the message. Repeat steps 6-9 for this new label.</p></li>
<li><p>Finish the reply label with <code class="docutils literal notranslate"><span class="pre">jump</span> <span class="pre">text_end</span></code></p></li>
</ol>
</div></blockquote>
<div class="section" id="sending-the-initial-text-message">
<h3>Sending the initial text message<a class="headerlink" href="#sending-the-initial-text-message" title="Permalink to this headline">¶</a></h3>
<p>To have character text the player after a chatroom, the program looks for a label with a specific naming convention. For example, if your chatroom is called</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">my_chatroom</span><span class="p">:</span>
</pre></div>
</div>
<p>then you need to create a label called</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">after_my_chatroom</span><span class="p">:</span>
</pre></div>
</div>
<p>Next, write</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">compose_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable for the character who is sending the message. You can then write dialogue the same way as you would for a chatroom, including adding CGs, emojis, and changing fonts. Text messages do not currently support special speech bubbles.</p>
<p>Finally, end the message with</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">compose_text_end</span><span class="p">(</span><span class="s1">&#39;menu1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">'menu1'</span></code> is an optional parameter that tells the program to jump to that label when the player presses “Answer” in this text message conversation. If you do not include a label to jump to, the player will be able to read this message but will not be able to respond.</p>
<p>Finally, end the <code class="docutils literal notranslate"><span class="pre">after_</span></code> label with the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">return</span>
</pre></div>
</div>
</div>
<div class="section" id="replying-to-text-message">
<h3>Replying to Text Message<a class="headerlink" href="#replying-to-text-message" title="Permalink to this headline">¶</a></h3>
<p>If you passed <code class="docutils literal notranslate"><span class="pre">compose_text_end</span></code> an argument such as <code class="docutils literal notranslate"><span class="pre">'menu1'</span></code>, then you need to create a label called <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">menu1</span></code> that the program will jump to when the player presses “Answer”. There are no restrictions on what you can call this label, but it’s recommended you come up with a consistent naming scheme to avoid accidentally creating several labels with the same name.</p>
<p>Create a new label for the reply as you named before.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">menu1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Choice 1&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 1&quot;</span>
            <span class="c1"># Additional dialogue</span>
        <span class="s2">&quot;Choice 2&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Choice 2&quot;</span>
            <span class="c1"># Additional dialogue</span>
    <span class="n">s</span> <span class="s2">&quot;Optional additional dialogue seen regardless of choice.&quot;</span>
    <span class="k">jump</span> <span class="n">text_end</span>
</pre></div>
</div>
<p>You begin the label with <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">text_begin(s)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable of the character the player is messaging. Then you should immediately begin with a <code class="docutils literal notranslate"><span class="pre">menu:</span></code> and give the player whatever choices you wish. This is written the same way as chatrooms.</p>
<div class="section" id="awarding-heart-points">
<h4>Awarding Heart Points<a class="headerlink" href="#awarding-heart-points" title="Permalink to this headline">¶</a></h4>
<p>You can award the player heart points for a text message response the same way you do in chatrooms. For regular text messages, the player can only receive one heart point per message reply; any additional heart point calls will simply overwrite the first one. Awarding heart points looks like this:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">menu1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Heart Point Choice 1&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Heart Point Choice 1&quot;</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="c1"># Additional dialogue</span>
        <span class="s2">&quot;Heart Point Choice 2&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Heart Point Choice 2&quot;</span><span class="p">:</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="c1"># Additional dialogue</span>
    <span class="c1"># Optional additional dialogue</span>
    <span class="k">jump</span> <span class="n">text_end</span>
</pre></div>
</div>
<p>In the above example, depending on the player’s choice, they either receive a heart point with <code class="docutils literal notranslate"><span class="pre">s</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</div>
<div class="section" id="allowing-multiple-replies">
<h4>Allowing multiple replies<a class="headerlink" href="#allowing-multiple-replies" title="Permalink to this headline">¶</a></h4>
<p>If you want to allow the player to continue replying to a regular text messages, then before <code class="docutils literal notranslate"><span class="pre">jump</span> <span class="pre">text_end</span></code> you must include the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">s</span><span class="o">.</span><span class="n">text_label</span> <span class="o">=</span> <span class="s2">&quot;menu2&quot;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable of the character in the conversation and <code class="docutils literal notranslate"><span class="pre">&quot;menu2&quot;</span></code> is the label to jump to for the player to continue replying. You could also include this line nested under a specific menu option in case you only want the player to be able to continue replying if they pick a certain response.</p>
<p>A text message conversation with two replies might look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">after_my_chatroom</span><span class="p">:</span>
    <span class="c1">## Text message to ja</span>
    <span class="k">call</span> <span class="n">compose_text</span><span class="p">(</span><span class="n">ja</span><span class="p">)</span>
    <span class="n">ja</span> <span class="s2">&quot;A sample text message.&quot;</span>
    <span class="k">call</span> <span class="n">compose_text_end</span><span class="p">(</span><span class="s2">&quot;sample1&quot;</span><span class="p">)</span>

<span class="k">label</span> <span class="n">sample1</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">ja</span><span class="p">)</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Sample reply&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Sample reply&quot;</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">ja</span><span class="p">)</span>
        <span class="s2">&quot;Sample reply 2&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Sample reply2&quot;</span>
            <span class="n">ja</span> <span class="s2">&quot;Sample response.&quot;</span>
    <span class="n">ja</span> <span class="s2">&quot;Response seen regardless of choice.&quot;</span>
    <span class="k">$</span> <span class="n">ja</span><span class="o">.</span><span class="n">text_label</span> <span class="o">=</span> <span class="s2">&quot;sample2&quot;</span>
    <span class="k">jump</span> <span class="n">text_end</span>

<span class="k">label</span> <span class="n">sample2</span><span class="p">:</span>
    <span class="k">call</span> <span class="n">text_begin</span><span class="p">(</span><span class="n">ja</span><span class="p">)</span>
    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;Sample reply 3&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Sample reply 3&quot;</span>
        <span class="s2">&quot;Sample reply 4&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="s2">&quot;Sample reply 4&quot;</span>
            <span class="k">call</span> <span class="n">heart_icon</span><span class="p">(</span><span class="n">ja</span><span class="p">)</span>
            <span class="n">ja</span> <span class="s2">&quot;Sample response.&quot;</span>
    <span class="k">jump</span> <span class="n">text_end</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="how-text-message-delivery-works">
<h2>How Text Message Delivery Works<a class="headerlink" href="#how-text-message-delivery-works" title="Permalink to this headline">¶</a></h2>
<p>When you write text messages in the <code class="docutils literal notranslate"><span class="pre">after_</span></code> label that are to be sent to the player, those messages are added to a ‘queue’ which is delivered to the player in increments after they finish playing the associated chatroom/VN. So, if you composed text messages from characters A, B, and C, the player may receive Character A’s message immediately upon returning to the ‘home’ screen, and then will receive Character B and C’s messages either by waiting around on the home screen or performing other actions such as replying to other text messages or emails.</p>
<p>Similarly, if the player has replied to Character A’s message, Character A’s response gets added to the queue and will be eventually delivered to the player after some time has passed.</p>
<p>All text messages in the queue are immediately delivered as soon as the player clicks to enter the chatroom timeline screen.</p>
<p>In this program, there is no time limit on when you can or can’t reply to text messages. However, if a character sends the player a new text message and they haven’t replied to the previous conversation, they will no longer be able to continue that older conversation.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>