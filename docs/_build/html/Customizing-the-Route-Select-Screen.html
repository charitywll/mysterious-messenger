<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>Customizing the Route Select Screen</title>
    
      <link rel="stylesheet" href="_static/pygments.css"/>
      <link rel="stylesheet" href="_static/theme-light.css"/>
      <link rel="stylesheet" media="(prefers-contrast: high)" href="_static/theme-light-hc.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="_static/theme-dark.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark) and (prefers-contrast: high)" href="_static/theme-dark-hc.css"/>
      
        <link rel="stylesheet" media="print" href="_static/theme-print.css"/>
      
      
      
        
        <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        

        <!-- sphinx script_files -->
          <script src="_static/jquery.js"></script>
          <script src="_static/underscore.js"></script>
          <script src="_static/doctools.js"></script>
          <script src="_static/language_data.js"></script>

        <script src="_static/sphinx_nervproject_theme.js" defer></script>
      
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
   
  

  </head>

  <body>
    <div id="app" class="theme-container"><header class="navbar">
    <div id="header-identity" class="print-only">
        <img id="navbar_logo" src="_static/"/>
        <div id="navbar_title">Mysterious Messenger Wiki</div>
    </div>

  
  <button class="sidebar-button">
      <svg id="sidebar-button-svg" role="img" aria-labelledby="sidebar-button_label" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title id="sidebar-button_label">
              Toggle sidebar
          </title>
          <use xlink:href="_static/fa/solid.svg#bars"></use>
      </svg>
  </button>

  <a href="index.html" class="home-link">
      <span class="site-name">Mysterious Messenger Wiki</span>
  </a>

  <div class="links">
    <div class="nav-links can-hide">



    </div>
  </div>
  
</header>

      
      <table role="none" id="main_layout_table">
        <thead>
          <tr><th><div id="layout_header">
          </div></th></tr>
        </thead>
        <tbody><tr><td>
          <div id="appflex">
            
              <div class="sidebar" id="sidebar">
                
                <nav class="nav-links can-hide">
                  



                  
                </nav><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><nav class="sidebar-links">
  
</nav>
              </div>
            

            <div class="page">
                <nav class="body-header">
  
  
  

  <ul class="page-nav no-print">
</ul>
  
</nav>
                <main class="content">
                  
  <div class="section" id="customizing-the-route-select-screen">
<h1>Customizing the Route Select Screen<a class="headerlink" href="#customizing-the-route-select-screen" title="Permalink to this headline">¶</a></h1>
<p><strong>Example files to look at: <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/screens_menu.rpy">screens_menu.rpy</a></strong></p>
<p>When you begin a new game, after pressing “Original Story” you’ll be taken to the “Mode Select” screen, where there is a large button that says “Start Game”. This screen is defined in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/screens_menu.rpy">screens_menu.rpy</a> and is called <code class="docutils literal notranslate"><span class="pre">screen</span> <span class="pre">route_select_screen()</span></code>.</p>
<p>To use your own route select screen, in the <strong>Developer</strong> settings, check off <strong>Use custom route select screen</strong>. This will cause the program to use the screen defined in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/screens_custom_route_select.rpy">screens_custom_route_select.rpy</a> instead of <code class="docutils literal notranslate"><span class="pre">screen</span> <span class="pre">route_select_screen</span></code>. If you want other players to see this screen from the start, you should also uncomment the line <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">persistent.custom_route_select</span> <span class="pre">=</span> <span class="pre">True</span></code> in <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/screens_custom_route_select.rpy">screens_custom_route_select.rpy</a>.</p>
<p>Your custom route select screen should look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>default persistent.custom_route_select = True

screen custom_route_select_screen():
    vbox:
        style &#39;route_select_vbox&#39;
        button:
            style &#39;route_select_button&#39;
            action Start()
            text &quot;Start Game&quot; style &#39;menu_text_small&#39; align (0.5, 0.5)
</pre></div>
</div>
<p>Currently this screen is identical to the regular route select screen. The only element this screen requires is a button that will take the player to the beginning of the game or route. If you are using a common route, it is sufficient to have a button with the action</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>action Start(&#39;common_route_start&#39;)
</pre></div>
</div>
<p>This will take the player to the <code class="docutils literal notranslate"><span class="pre">common_route_start</span></code> label; this should be a label containing your introductory chatroom. You can see [[Creating an Opening Chatroom]] for more on creating an introductory chatrooom to the route.</p>
<div class="section" id="providing-multiple-route-options">
<h2>Providing Multiple Route Options<a class="headerlink" href="#providing-multiple-route-options" title="Permalink to this headline">¶</a></h2>
<p>Otherwise, you must create a button for each route you will allow the player to choose. For example, a screen which allows the player to choose between a “Casual” and a “Deep” route might look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>screen custom_route_select_screen():
    vbox:
        style &#39;route_select_vbox&#39;
        button:
            style &#39;route_select_button&#39;
            action Start(&#39;casual_route_start&#39;)
            text &quot;Casual Route&quot; style &#39;menu_text_small&#39; align (0.5, 0.5)
        button:
            style &#39;route_select_button&#39;
            action Start(&#39;deep_route_start&#39;)
            text &quot;Deep Route&quot; style &#39;menu_text_small&#39; align (0.5, 0.5)
</pre></div>
</div>
<p>You can, of course, change the button backgrounds, text, spacing, and other styles. This will create a very simple route select screen with two buttons tacked on top of each other – one for Casual Route, and one for Deep Route. For more information on customizing screens, you can read the <a class="reference external" href="https://www.renpy.org/doc/html/screens.html?">Ren’Py documentation on Screen Language</a>.</p>
<p>Since you have two separate routes, casual and deep, you will need to have two separate lists of <code class="docutils literal notranslate"><span class="pre">RouteDay</span></code> objects and a <code class="docutils literal notranslate"><span class="pre">Route</span></code> object defined for them. For more on that, see [[Setting up Sequential Chatrooms]]. In this example, the Route object for “casual route” is defined in the variable <code class="docutils literal notranslate"><span class="pre">casual_route</span></code> and deep route in <code class="docutils literal notranslate"><span class="pre">deep_route</span></code>. Then you would have two labels that look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>label casual_route_start:
    $ new_route_setup(route=casual_route)
    # (Intro continues from here)
</pre></div>
</div>
<p>and</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>label deep_route_start:
    $ new_route_setup(route=deep_route)
</pre></div>
</div>
<p>If you also want to include an “after_” label for things such as text messages and character status updates, you can add the field <code class="docutils literal notranslate"><span class="pre">chatroom_label</span></code> like so:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>$ new_route_setup(route=deep_route, chatroom_label=&quot;deep_starter_chat&quot;)
</pre></div>
</div>
<p>which tells the program that the <code class="docutils literal notranslate"><span class="pre">after_</span></code> label will be located at <code class="docutils literal notranslate"><span class="pre">after_deep_starter_chat</span></code>.</p>
</div>
<div class="section" id="skipping-the-introductory-chatroom">
<h2>Skipping the Introductory Chatroom<a class="headerlink" href="#skipping-the-introductory-chatroom" title="Permalink to this headline">¶</a></h2>
<p>If you do not want an introductory chatroom, and would instead like the player to begin in the chat hub where they can begin playing after selecting a chatroom from the day list, you still need to include some code after the label you told the program to start the game at. For example, if you want the casual story route to jump right to the chat hub after selecting “Casual Route” from the route select screen, your label should look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span>label casual_route_start:
    $ new_route_setup(route=casual_route)
    $ new_route_setup(route=my_new_route, chatroom_label=&quot;prologue&quot;, participants=[ja])
    $ character_list = [ju, z, s, y, ja, m]
    $ heart_point_chars = [ju, z, s, y, ja]
    jump skip_intro_setup
</pre></div>
</div>
</div>
</div>

  
    <div class="section no-print">
    
      
    
    
    
    </div>
  

                </main><ul class="page-nav no-print">
</ul>
            </div>
          </div>
        </td></tr></tbody>
        <tfoot>
          <tr><th><div id="layout_footer">
          </div></th></tr>
        </tfoot>
      </table><footer class="footer" role="contentinfo">
  
    <p>
    
      &#169; Copyright 2020, Shawna P.
    
    </p>
  
  
    <p>
    
    
      Licensed under .
    
    
    </p>
  
  
    <p>
  
  
  
    Created using <a
        href="http://sphinx-doc.org/">Sphinx</a> 3.2.1 with
    <a href="https://www.nerv-project.eu">Nerv Project theme</a>
    based on <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>
    and <a href="https://ablog.readthedocs.io/">ABlog</a>.</p>
  
  <div class="pagecount"></div>
</footer>
    </div>
    
    
  </body>
</html>