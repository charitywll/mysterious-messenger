

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CG Albums &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Setting up a Route" href="route-setup.html" />
    <link rel="prev" title="Creating Characters" href="creating-characters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="Credits-and-Acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Useful-Built-in-Features.html">Useful Built-in Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="Beginners-Guide.html">Beginner’s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chatrooms.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="phone-calls.html">Phone Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CG Albums</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-cg-album">Adding a CG Album</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#albums-associated-a-character">Albums Associated a Character</a></li>
<li class="toctree-l3"><a class="reference internal" href="#albums-not-associated-with-a-character">Albums not Associated With a Character</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hiding-albums-until-unlocked">Hiding Albums Until Unlocked</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="route-setup.html">Setting up a Route</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CG Albums</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cg-albums.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cg-albums">
<h1>CG Albums<a class="headerlink" href="#cg-albums" title="Permalink to this headline">¶</a></h1>
<div class="section" id="adding-a-cg-album">
<h2>Adding a CG Album<a class="headerlink" href="#adding-a-cg-album" title="Permalink to this headline">¶</a></h2>
<div class="section" id="albums-associated-a-character">
<h3>Albums Associated a Character<a class="headerlink" href="#albums-associated-a-character" title="Permalink to this headline">¶</a></h3>
<p>For this tutorial, this example shows how to add a character named Emma to the game. You can view Emma’s character definition and more in [[INSERT LINK HERE]].</p>
<p>Albums are defined in <code class="docutils literal notranslate"><span class="pre">gallery_album_definitions.rpy</span></code>. There are two images to define and two album variables.</p>
<p>First, under the heading <strong>Album Cover Images</strong>, you will see images that look like <code class="docutils literal notranslate"><span class="pre">cg_label_ja</span></code>. This is the background of the small label that contains the name of the album. For Emma, you will define an image like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">cg_label_em</span> <span class="o">=</span> <span class="s2">&quot;CGs/label_bg_em.webp&quot;</span>
</pre></div>
</div>
<p>The important thing is that it is called <code class="docutils literal notranslate"><span class="pre">cg_label_em</span></code> where <code class="docutils literal notranslate"><span class="pre">em</span></code> is the character’s file_id. You can look at the existing images to see what they look like. The CG label is typically 241x64 px.</p>
<p>Below that is a set of images like <code class="docutils literal notranslate"><span class="pre">ja_album_cover</span></code>. This is the image that will be displayed as a button to click and open the album. It typically has an image of the associated character and is 157x137 px. Emma’s image definition will look like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">em_album_cover</span> <span class="o">=</span> <span class="s2">&quot;CGs/em_album_cover.webp&quot;</span>
</pre></div>
</div>
<p>The important part is that it’s called <code class="docutils literal notranslate"><span class="pre">em_album_cover</span></code> where <code class="docutils literal notranslate"><span class="pre">em</span></code> is the character’s file_id.</p>
<p>Next, you need to define two album variables. The first one, at the top, is persistent. In most cases, it will begin empty. These variables are used to keep track of which images the player has unlocked across all playthroughs.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">persistent</span><span class="o">.</span><span class="n">em_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>The album should be the character’s file_id + album, so in this case it’s <code class="docutils literal notranslate"><span class="pre">persistent.em_album</span></code>.</p>
<p>Similarly, Emma’s regular album definition will look like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">em_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>Again, this is the character’s file_id + album.</p>
<p>At the bottom of the file, you will also see a definition for the variable <code class="docutils literal notranslate"><span class="pre">all_albums</span></code>. You need to add Emma’s file_id here so that her album shows up in the Album screen:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">all_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ju&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="s1">&#39;em&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>You can reorganize this list as you see fit. Albums are organized in rows of three on the Album screen. So, the following definition would be equally correct, depending on which characters you wanted to have albums:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">all_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ju&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;em&#39;</span><span class="p">,</span> <span class="s1">&#39;common&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If a player has already unlocked an image inside an album, it will be automatically added to <code class="docutils literal notranslate"><span class="pre">all_albums</span></code>. If you’re making a new route and don’t want some characters’ albums to appear, you must both 1) remove them from <code class="docutils literal notranslate"><span class="pre">all_albums</span></code> and 2) Use <code class="docutils literal notranslate"><span class="pre">Reset</span> <span class="pre">Persistent</span></code> from the Ren’Py launcher to cause Ren’Py to forget which CGs you unlocked over other routes.</p>
</div>
</div>
<div class="section" id="albums-not-associated-with-a-character">
<h3>Albums not Associated With a Character<a class="headerlink" href="#albums-not-associated-with-a-character" title="Permalink to this headline">¶</a></h3>
<p>If you want an album that isn’t associated with any particular character, such as a “Common” album, the program expects you to follow certain naming conventions so it can find the correct album cover, label, and variables.</p>
<p>For example, if you wanted to add a “New Year’s” album, you must do the following:</p>
<ol class="arabic simple">
<li><p>Add “new year’s” to the <code class="docutils literal notranslate"><span class="pre">all_albums</span></code> definition. Capitalization doesn’t matter, but note the use of double quotes (“) instead of single so you don’t have to escape the apostrophe.</p></li>
</ol>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">all_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ju&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="s2">&quot;new year&#39;s&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Determine what the program will expect the variables to be called.</p></li>
</ol>
<p>The program uses a specific naming scheme to process strings into file and variable names:</p>
<ol class="arabic simple">
<li><p>Spaces are turned into underscores (e.g. “bonus images” -&gt; “bonus_images”)</p></li>
<li><p>Apostrophes are removed (e.g. “valentine’s day -&gt; “valentines_day”)</p></li>
<li><p>Entire word is in lowercase (e.g. “RFA Bonus” -&gt; “rfa_bonus”)</p></li>
</ol>
<p>So, using the rules above, “new year’s” in the <code class="docutils literal notranslate"><span class="pre">all_albums</span></code> definition will become “new_years”. You can then define the two images and two album definitions like you did for Emma above:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">cg_label_new_years</span> <span class="o">=</span> <span class="s2">&quot;Image for your label.png&quot;</span>
<span class="k">image</span> <span class="n">new_years_album_cover</span> <span class="o">=</span> <span class="s2">&quot;Image for your album cover.png&quot;</span>
<span class="k">default</span> <span class="n">persistent</span><span class="o">.</span><span class="n">new_years_album</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">default</span> <span class="n">new_years_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hiding-albums-until-unlocked">
<h2>Hiding Albums Until Unlocked<a class="headerlink" href="#hiding-albums-until-unlocked" title="Permalink to this headline">¶</a></h2>
<p>In some situations, you may want an album to not show up in the player’s photo album until they have unlocked an image contained in it. For example, if you include a New Year’s scenario, you may want to put related CGs in a New Year’s album, but if the player hasn’t unlocked or played through the New Year’s scenario, you don’t want the New Year’s album to show up in their photo album screen.</p>
<p>In this case, you can use the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>to hide this album unless the player has unlocked a photo in it. The best place to put this is just before setting up a new route e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">])</span>
<span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">my_new_route</span><span class="p">)</span>
</pre></div>
</div>
<p>If the player has already unlocked images in this album, it will continue to be shown. Otherwise, this album will only appear in the player’s photo album once they have unlocked an image in it (this is taken care of automatically).</p>
<p>Note that since you are passing a list, you can pass multiple albums to be hidden e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">,</span> <span class="s2">&quot;christmas&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="route-setup.html" class="btn btn-neutral float-right" title="Setting up a Route" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="creating-characters.html" class="btn btn-neutral float-left" title="Creating Characters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>