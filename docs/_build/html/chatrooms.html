

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chatrooms &mdash; Mysterious Messenger Wiki v2.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Phone Calls" href="phone-calls.html" />
    <link rel="prev" title="Git Setup" href="git-setup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits-and-acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginners-guide.html">Beginner’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="git-setup.html">Git Setup</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Chatrooms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-chatroom">Creating a Chatroom</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-chatroom-dialogue">Writing Chatroom Dialogue</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-msg-cds">Using the msg CDS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fonts">Fonts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#emphasis">Emphasis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-bubbles">Special Bubbles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modifying-message-speed">Modifying Message Speed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-chatroom-spreadsheet">Using the Chatroom Spreadsheet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparison-of-chatroom-dialogue">Comparison of Chatroom Dialogue</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-chatroom-features">Advanced Chatroom Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#entering-and-exiting-the-chatroom">Entering and Exiting the Chatroom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clearing-the-chat-history">Clearing the Chat History</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clearing-chatroom-participants">Clearing Chatroom Participants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#providing-choices">Providing Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-a-chatroom-banner">Showing a Chatroom Banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-a-heart-icon">Showing a Heart Icon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#awarding-a-heart-point">Awarding a heart point</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removing-a-heart-point">Removing a heart point</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#showing-the-hacked-scroll-effect">Showing the Hacked Scroll Effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shaking-the-screen">Shaking the Screen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-fonts-and-bubbles">Custom Fonts and Bubbles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-fonts">Custom Fonts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-bubbles">Custom Bubbles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extending-custom-bubbles">Extending Custom Bubbles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-background-function">Custom Bubble Background Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-style-function">Custom Bubble Style Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-offset-function">Custom Bubble Offset Function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-chatroom-backgrounds">Adding Chatroom Backgrounds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-an-animated-background">Adding an Animated Background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#timed-menus">Timed Menus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timed-menu-settings">Timed Menu Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timed-menu-functionality">Timed Menu Functionality</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="phone-calls.html">Phone Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="route-setup.html">Setting up a Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot-branches.html">Plot Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="cg-albums.html">CG Albums</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Chatrooms</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/chatrooms.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chatrooms">
<h1>Chatrooms<a class="headerlink" href="#chatrooms" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Navigation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Chatrooms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-chatroom">Creating a Chatroom</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-chatroom-dialogue">Writing Chatroom Dialogue</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-msg-cds">Using the msg CDS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fonts">Fonts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#emphasis">Emphasis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-bubbles">Special Bubbles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modifying-message-speed">Modifying Message Speed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-chatroom-spreadsheet">Using the Chatroom Spreadsheet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparison-of-chatroom-dialogue">Comparison of Chatroom Dialogue</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-chatroom-features">Advanced Chatroom Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#entering-and-exiting-the-chatroom">Entering and Exiting the Chatroom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clearing-the-chat-history">Clearing the Chat History</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clearing-chatroom-participants">Clearing Chatroom Participants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#providing-choices">Providing Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-a-chatroom-banner">Showing a Chatroom Banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-a-heart-icon">Showing a Heart Icon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#awarding-a-heart-point">Awarding a heart point</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removing-a-heart-point">Removing a heart point</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#showing-the-hacked-scroll-effect">Showing the Hacked Scroll Effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shaking-the-screen">Shaking the Screen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-fonts-and-bubbles">Custom Fonts and Bubbles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-fonts">Custom Fonts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-bubbles">Custom Bubbles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extending-custom-bubbles">Extending Custom Bubbles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-background-function">Custom Bubble Background Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-style-function">Custom Bubble Style Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-bubble-offset-function">Custom Bubble Offset Function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-chatroom-backgrounds">Adding Chatroom Backgrounds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-an-animated-background">Adding an Animated Background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#timed-menus">Timed Menus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timed-menu-settings">Timed Menu Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timed-menu-functionality">Timed Menu Functionality</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="creating-a-chatroom">
<h2>Creating a Chatroom<a class="headerlink" href="#creating-a-chatroom" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Example files to look at:</p>
<ul class="simple">
<li><p>tutorial_5_coffee.rpy</p></li>
<li><p>tutorial_6_meeting.rpy</p></li>
</ul>
<p><em>A brief overview of the steps required (more detail below):</em></p>
<ol class="arabic">
<li><p>Create a new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file (Optional, but recommended)</p></li>
<li><p>Create a new label for the chatroom.</p></li>
<li><p>Set the background with <code class="docutils literal notranslate"><span class="pre">scene</span> <span class="pre">morning</span></code> where <code class="docutils literal notranslate"><span class="pre">morning</span></code> is replaced by whatever time of day/background you want to use.</p></li>
<li><p>Add background music with <code class="docutils literal notranslate"><span class="pre">play</span> <span class="pre">music</span> <span class="pre">mystic_chat</span></code> where <code class="docutils literal notranslate"><span class="pre">mystic_chat</span></code> is replaced by the desired music variable.</p></li>
<li><p>Write the chatroom dialogue.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>You may want to use either <code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Generator.xlsx</span></code> or the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS.</p></li>
</ol>
</div></blockquote>
</li>
<li><p>End the label with <code class="docutils literal notranslate"><span class="pre">return</span></code>.</p></li>
</ol>
</div>
<p>The first thing you should do when creating a new chatroom is create a new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file and name it something descriptive so it’s easy to find it again. For example, you might name it something like <code class="docutils literal notranslate"><span class="pre">day_1_chatroom_3.rpy</span></code> or <code class="docutils literal notranslate"><span class="pre">day_1_3.rpy</span></code>. It’s a good idea to put all the files related to a particular route inside a folder for organization.</p>
<p>In your newly created <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file, begin by making a label for the chatroom:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_1</span><span class="p">:</span>
</pre></div>
</div>
<p>Don’t forget the colon after the label name. Your label name also can’t have any spaces in it or begin with a number.</p>
<p>Next, it’s time to set up the chatroom background. Note that everything under the label name <strong>should be indented at least one level to the right</strong>. You can look at the example files mentioned above if you’re not sure what this means.</p>
<p>First, you need to give the chatroom a background to show:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_1</span><span class="p">:</span>
    <span class="k">scene</span> <span class="n">morning</span>
</pre></div>
</div>
<p>While chatrooms also use Ren’Py’s <code class="docutils literal notranslate"><span class="pre">scene</span></code> statement to show backgrounds, there is a limited number of built-in backgrounds to use. New backgrounds must be defined as described in <a class="reference internal" href="#adding-chatroom-backgrounds"><span class="std std-ref">Adding Chatroom Backgrounds</span></a>. Your background options are:</p>
<ul class="simple">
<li><p>morning</p></li>
<li><p>noon</p></li>
<li><p>evening</p></li>
<li><p>night</p></li>
<li><p>earlyMorn</p></li>
<li><p>hack</p></li>
<li><p>redhack</p></li>
<li><p>redcrack</p></li>
</ul>
<p>The background names <strong>are</strong> case-sensitive, so you need to get the capitalization correct. The program will automatically clear the chat history when beginning a new chatroom so new messages begin appearing at the bottom.</p>
<p>Now that the background is set up, you probably want some music. Music is played with the line:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">play</span> <span class="k">music</span> <span class="n">mystic_chat</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">mystic_chat</span></code> can be replaced by the name of whatever music you want. There are several files pre-defined in <code class="docutils literal notranslate"><span class="pre">variables_music_sound.rpy</span></code>. If you want to define your own music, you need to add it to the <code class="docutils literal notranslate"><span class="pre">music_dictionary</span></code> as well so that it is compatible with audio captions. See <a class="reference internal" href="old_documentation/Adding-new-Audio.html#adding-new-audio"><span class="std std-ref">Adding new Audio</span></a> for more information.</p>
<p>Next, you’ll write the dialogue for your chatroom. See <a class="reference internal" href="#writing-chatroom-dialogue"><span class="std std-ref">Writing Chatroom Dialogue</span></a>. Finally, to end the chatroom, end the label with <code class="docutils literal notranslate"><span class="pre">return</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_1</span><span class="p">:</span>
    <span class="k">scene</span> <span class="n">earlyMorn</span>
    <span class="k">play</span> <span class="k">music</span> <span class="n">mint_eye</span>
    <span class="c1"># Dialogue will go here</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>To learn how to make this chatroom appear in your game, check out <a class="reference internal" href="route-setup.html#setting-up-a-route"><span class="std std-ref">Setting up a Route</span></a>.</p>
</div>
<div class="section" id="writing-chatroom-dialogue">
<h2>Writing Chatroom Dialogue<a class="headerlink" href="#writing-chatroom-dialogue" title="Permalink to this headline">¶</a></h2>
<p>There are two primary ways of writing dialogue for your chatroom. The first is to use a special <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS, and the second is to use a special spreadsheet to help generate the dialogue for you.</p>
<div class="section" id="using-the-msg-cds">
<h3>Using the msg CDS<a class="headerlink" href="#using-the-msg-cds" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS helps add effects to your dialogue, such as special speech bubbles or alternative fonts, without sacrificing the readability of the dialogue. Dialogue written with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS looks like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;Usually, the program would delay sending text messages and phone calls&quot;</span> <span class="n">sser1</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;until after both this chatroom and the Story Mode were played.&quot;</span> <span class="n">sser1</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;But since v3.0, things are more flexible!&quot;</span> <span class="n">flower_m</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;If you declare a route using the new format,&quot;</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;you can have text messages and phone calls and the like after any story item,&quot;</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;even a chatroom that has a Story Mode attached&quot;</span> <span class="n">glow</span>
</pre></div>
</div>
<p>(Dialogue can be found in <code class="docutils literal notranslate"><span class="pre">tutorial_3_text_message.rpy</span></code>)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS requires a speaker (in the example, <code class="docutils literal notranslate"><span class="pre">r</span></code>) and some dialogue (surrounded by <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>). There are several optional clauses that can be added after the dialogue to affect how it displays.</p>
<div class="section" id="fonts">
<h4>Fonts<a class="headerlink" href="#fonts" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS has several built-in fonts that can be applied to the text. These are:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Short form</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sser1</p></td>
<td><p>Sans serif font 1 (Nanum Gothic)</p></td>
</tr>
<tr class="row-odd"><td><p>sser2</p></td>
<td><p>Sans serif font 2 (Seoul Namsan)</p></td>
</tr>
<tr class="row-even"><td><p>ser1</p></td>
<td><p>Serif font 1 (Nanum Myeongjo)</p></td>
</tr>
<tr class="row-odd"><td><p>ser2</p></td>
<td><p>Serif font 2 (Seoul Hangang)</p></td>
</tr>
<tr class="row-even"><td><p>curly</p></td>
<td><p>Cursive font (Sandoll Misaeng)</p></td>
</tr>
<tr class="row-odd"><td><p>blocky</p></td>
<td><p>Blocky font (BM-HANNA)</p></td>
</tr>
</tbody>
</table>
<p>You can also use your own fonts with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS. See <a class="reference internal" href="#custom-fonts-and-bubbles"><span class="std std-ref">Custom Fonts and Bubbles</span></a> for more on custom fonts and special bubbles.</p>
<p>In order to use one of the built-in fonts, just include the name of the desired font after the dialogue e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;This is example dialogue in the cursive font.&quot;</span> <span class="n">curly</span>
<span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;This is in the sans serif 1 font.&quot;</span> <span class="n">sser1</span>
</pre></div>
</div>
<p>Note that you can only have one font at a time; including more than one will simply use the last font given. The default font is <code class="docutils literal notranslate"><span class="pre">sser1</span></code>.</p>
</div>
<div class="section" id="emphasis">
<h4>Emphasis<a class="headerlink" href="#emphasis" title="Permalink to this headline">¶</a></h4>
<p>You can emphasize text in several ways. To use the <strong>bold</strong> version of a font, use the argument <code class="docutils literal notranslate"><span class="pre">bold</span></code> after the dialogue e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;This text is bolded.&quot;</span> <span class="na">bold</span>
</pre></div>
</div>
<p>Some fonts have <strong>extra-bold</strong> variants as well. These are defined in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code> in the variable <code class="docutils literal notranslate"><span class="pre">bold_xbold_fonts_list</span></code>. To make a font extra bold, add the <code class="docutils literal notranslate"><span class="pre">xbold</span></code> clause after the dialogue e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">ja</span> <span class="s2">&quot;This text is in the sans serif 2 font, extra bold.&quot;</span> <span class="n">sser2</span> <span class="n">xbold</span>
</pre></div>
</div>
<p>Finally, you can also increase the size of the text inside a speech bubble with the <code class="docutils literal notranslate"><span class="pre">big</span></code> argument e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">ju</span> <span class="s2">&quot;This text is shown at a bigger size.&quot;</span> <span class="n">big</span>
</pre></div>
</div>
<p>You can also combine <code class="docutils literal notranslate"><span class="pre">big</span></code> and <code class="docutils literal notranslate"><span class="pre">bold</span></code> or <code class="docutils literal notranslate"><span class="pre">xbold</span></code> for additional emphasis.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;VERY IMPORTANT MESSAGE!!&quot;</span> <span class="n">sser2</span> <span class="n">big</span> <span class="n">xbold</span>
</pre></div>
</div>
</div>
<div class="section" id="special-bubbles">
<h4>Special Bubbles<a class="headerlink" href="#special-bubbles" title="Permalink to this headline">¶</a></h4>
<p>You can also use special speech bubbles as the background of dialogue. There are several bubbles built in to the program:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 12%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Base bubble</strong></p></th>
<th class="head"><p><strong>Sizes</strong></p></th>
<th class="head"><p><strong>Additional Notes</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cloud</p></td>
<td><p>s, m, l</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>round</p></td>
<td><p>s, m, l</p></td>
<td><p>Only available for <code class="docutils literal notranslate"><span class="pre">ja</span></code>, <code class="docutils literal notranslate"><span class="pre">ju</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code>, and <code class="docutils literal notranslate"><span class="pre">y</span></code>. Using a <code class="docutils literal notranslate"><span class="pre">round</span></code> style for <code class="docutils literal notranslate"><span class="pre">z</span></code> or <code class="docutils literal notranslate"><span class="pre">r</span></code> will result in using the <code class="docutils literal notranslate"><span class="pre">flower</span></code> bubble.</p></td>
</tr>
<tr class="row-even"><td><p>round2</p></td>
<td><p>s, m, l</p></td>
<td><p>Only available for <code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>sigh</p></td>
<td><p>s, m, l</p></td>
<td><p>Not available for <code class="docutils literal notranslate"><span class="pre">sa</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>spike</p></td>
<td><p>s, m, l</p></td>
<td><p>small (s) size only available for <code class="docutils literal notranslate"><span class="pre">ja</span></code>, <code class="docutils literal notranslate"><span class="pre">ju</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>square</p></td>
<td><p>s, m, l</p></td>
<td><p>Not available for <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>square2</p></td>
<td><p>s, m, l</p></td>
<td><p>Only available for <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>flower</p></td>
<td><p>s, m, l</p></td>
<td><p>Only available for <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code>. Previously called <code class="docutils literal notranslate"><span class="pre">round</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>glow</p></td>
<td><p>N/A</p></td>
<td><p>Available for all pre-defined characters excluding <code class="docutils literal notranslate"><span class="pre">m</span></code> i.e. <code class="docutils literal notranslate"><span class="pre">u</span></code> and <code class="docutils literal notranslate"><span class="pre">ri</span></code> also have this bubble.</p></td>
</tr>
<tr class="row-odd"><td><p>glow2</p></td>
<td><p>N/A</p></td>
<td><p>Only available for <code class="docutils literal notranslate"><span class="pre">sa</span></code>. An extra variant on the <code class="docutils literal notranslate"><span class="pre">glow</span></code> bubble.</p></td>
</tr>
</tbody>
</table>
<p>Unless otherwise mentioned, <code class="docutils literal notranslate"><span class="pre">u</span></code>, <code class="docutils literal notranslate"><span class="pre">ri</span></code>, and <code class="docutils literal notranslate"><span class="pre">m</span></code> have no special bubble variants.</p>
<p>For bubbles which have sizes, you must include which size bubble you would like (<code class="docutils literal notranslate"><span class="pre">s</span></code> for small, <code class="docutils literal notranslate"><span class="pre">m</span></code> for medium, and <code class="docutils literal notranslate"><span class="pre">l</span></code> for large) after the name of the bubble e.g. <code class="docutils literal notranslate"><span class="pre">square_m</span></code> or <code class="docutils literal notranslate"><span class="pre">sigh_l</span></code>.</p>
<p>To use a special bubble, add the name of the bubble after dialogue e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;This is a bubble with the flower background.&quot;</span> <span class="n">flower_m</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;And this is a bubble with the glowing background.&quot;</span> <span class="n">glow</span>
<span class="n">msg</span> <span class="n">r</span> <span class="s2">&quot;These can be combined with other fonts and effects, too!&quot;</span> <span class="n">glow</span> <span class="n">curly</span> <span class="n">big</span>
</pre></div>
</div>
<p>You can also use your own bubbles with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS, or modify it so that characters can use each other’s special speech bubbles. See <a class="reference internal" href="#custom-fonts-and-bubbles"><span class="std std-ref">Custom Fonts and Bubbles</span></a> for more on custom special bubbles and fonts.</p>
</div>
<div class="section" id="images">
<h4>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS will automatically detect if dialogue includes a recognized emoji and mark the dialogue as an image accordingly. If you want a character to post an image in the chatroom (such as a CG), then you can use the <code class="docutils literal notranslate"><span class="pre">img</span></code> argument:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="s2">&quot;cg s_1&quot;</span> <span class="n">img</span>
<span class="n">s</span> <span class="s2">&quot;I just posted a CG!&quot;</span>
</pre></div>
</div>
<p>You need to follow the rules outlined in <a class="reference internal" href="cg-albums.html#defining-a-cg"><span class="std std-ref">Defining a CG</span></a> and <a class="reference internal" href="cg-albums.html#showing-a-cg-in-a-chatroom-or-text-message"><span class="std std-ref">Showing a CG in a Chatroom or Text Message</span></a> in order for the program to find the correct image and display it during a chatroom. For CGs, the program will also automatically unlock the image in the gallery.</p>
</div>
<div class="section" id="modifying-message-speed">
<h4>Modifying Message Speed<a class="headerlink" href="#modifying-message-speed" title="Permalink to this headline">¶</a></h4>
<p>Finally, you can also adjust the speed at which a message is posted. For example, if you want a character to post a bunch of messages in quick succession, you can use the <code class="docutils literal notranslate"><span class="pre">pv</span></code> clause to use a multiplier on the speed at which a message is posted e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="s2">&quot;These&quot;</span> <span class="n">pv</span> <span class="mf">0.1</span>
<span class="n">s</span> <span class="s2">&quot;messages&quot;</span> <span class="n">pv</span> <span class="mf">0.1</span>
<span class="n">s</span> <span class="s2">&quot;are&quot;</span> <span class="n">pv</span> <span class="mf">0.1</span>
<span class="n">s</span> <span class="s2">&quot;posted&quot;</span> <span class="n">pv</span> <span class="mf">0.1</span>
<span class="n">s</span> <span class="s2">&quot;quickly!!!&quot;</span> <span class="n">pv</span> <span class="mf">0.1</span>
</pre></div>
</div>
<p>If you have <code class="docutils literal notranslate"><span class="pre">paraphrase_choices</span></code> turned off, you will generally want to add <code class="docutils literal notranslate"><span class="pre">pv</span> <span class="pre">0</span></code> after a message posted by the main character after a menu e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">menu</span><span class="p">:</span>
    <span class="s2">&quot;Emojis and Images&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">m</span> <span class="s2">&quot;I want to learn how to use emojis and images.&quot;</span> <span class="n">pv</span> <span class="mi">0</span>
        <span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;Emojis and images, huh?&quot;</span> <span class="n">ser1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-the-chatroom-spreadsheet">
<h3>Using the Chatroom Spreadsheet<a class="headerlink" href="#using-the-chatroom-spreadsheet" title="Permalink to this headline">¶</a></h3>
<p>The second way of writing chatroom dialogue is similar to writing regular Ren’Py script, but passes special keyword arguments in brackets after the dialogue. A spreadsheet, <code class="docutils literal notranslate"><span class="pre">Script</span> <span class="pre">Generator.xlsx</span></code>, is included with the program to make this style of writing easier.</p>
<p>The first tab in the spreadsheet is called <strong>Chatroom Instructions</strong> and explains how the <strong>CHATROOM TEMPLATE</strong> tab is used. Where possible, the spreadsheet will try to check off the appropriate boxes depending on what fonts, emphasis, or bubbles you want to use. It will also notify you if you’ve typed a character’s name incorrectly.</p>
<p>The tab <strong>tutorial_6_meeting</strong> has examples directly from the corresponding <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file of how dialogue for that chatroom was written using the spreadsheet.</p>
<p>In general, you should create a copy of the <strong>CHATROOM TEMPLATE</strong> tab and fill it out with your desired dialogue. Don’t forget that messages such as <code class="docutils literal notranslate"><span class="pre">707</span> <span class="pre">has</span> <span class="pre">entered</span> <span class="pre">the</span> <span class="pre">chatroom</span></code> are handled differently – see <a class="reference internal" href="#advanced-chatroom-features"><span class="std std-ref">Advanced Chatroom Features</span></a> for more.</p>
<p>If you’ve filled out the spreadsheet correctly, you should be able to copy-paste the dialogue from the “What should be filled into the program” column into your script file.</p>
</div>
<div class="section" id="comparison-of-chatroom-dialogue">
<h3>Comparison of Chatroom Dialogue<a class="headerlink" href="#comparison-of-chatroom-dialogue" title="Permalink to this headline">¶</a></h3>
<p>Both methods of writing dialogue can be mixed and matched freely in-game. For example, if you don’t want to add any additional fonts, emphasis, or special bubbles, it can be easier to type out dialogue using just the character variable and their dialogue. Here is a comparison of what dialogue looks like for each method when various fonts, emphasis, and special bubbles are added:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;Extra bold sans serif 2 font&quot;</span> <span class="n">sser2</span> <span class="n">xbold</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">u</span> <span class="s2">&quot;{=sser2xb}Extra bold sans serif 2 font{/=sser2xb}&quot;</span>

<span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;Glowing bubble with blocky font&quot;</span> <span class="n">blocky</span> <span class="n">glow</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">u</span> <span class="s2">&quot;{=blocky}Glowing bubble with blocky font{/=blocky}&quot;</span> <span class="p">(</span><span class="n">bounce</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">z</span> <span class="s2">&quot;Bold large curly font with flower bubble&quot;</span> <span class="n">curly</span> <span class="na">bold</span> <span class="n">big</span> <span class="n">flower_m</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">z</span> <span class="s2">&quot;{=curly}{size=+10}</span><span class="si">{b}</span><span class="s2">Bold large curly font with flower bubble{/b}{/size}{/=curly}&quot;</span> <span class="p">(</span><span class="n">bounce</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">specBubble</span><span class="o">=</span><span class="s2">&quot;flower_m&quot;</span><span class="p">)</span>

<span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;{image=seven_wow}&quot;</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">s</span> <span class="s2">&quot;{image=seven_wow}&quot;</span> <span class="p">(</span><span class="n">img</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">m</span> <span class="s2">&quot;Dialogue with a speed modifier.&quot;</span> <span class="n">pv</span> <span class="mi">0</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">m</span> <span class="s2">&quot;Dialogue with a speed modifier.&quot;</span> <span class="p">(</span><span class="n">pauseVal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># msg CDS</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;cg s_1&quot;</span> <span class="n">img</span>
<span class="c1"># Spreadsheet dialogue</span>
<span class="n">s</span> <span class="s2">&quot;cg s_1&quot;</span> <span class="p">(</span><span class="n">img</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If you have script from v2.x or earlier, you don’t need to modify it to work with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS. You can mix and match script writing styles within the same chatroom.</p>
</div>
</div>
</div>
<div class="section" id="advanced-chatroom-features">
<h2>Advanced Chatroom Features<a class="headerlink" href="#advanced-chatroom-features" title="Permalink to this headline">¶</a></h2>
<p>Now that you’ve made a label for your chatroom and filled it with some dialogue, you may want to add additional polish to your chatroom, like allowing the player to make a choice or adding the special <code class="docutils literal notranslate"><span class="pre">707</span> <span class="pre">has</span> <span class="pre">entered</span> <span class="pre">the</span> <span class="pre">chatroom</span></code>-style messages.</p>
<div class="section" id="entering-and-exiting-the-chatroom">
<h3>Entering and Exiting the Chatroom<a class="headerlink" href="#entering-and-exiting-the-chatroom" title="Permalink to this headline">¶</a></h3>
<p>To get the message <code class="docutils literal notranslate"><span class="pre">Character</span> <span class="pre">has</span> <span class="pre">entered</span> <span class="pre">the</span> <span class="pre">chatroom</span></code>, use the <code class="docutils literal notranslate"><span class="pre">enter</span> <span class="pre">chatroom</span></code> CDS:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">enter</span> <span class="n">chatroom</span> <span class="n">s</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable of the character who is entering the chatroom. See <a class="reference internal" href="creating-characters.html#creating-characters"><span class="std std-ref">Creating Characters</span></a> for a list of the characters currently programmed into the game.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">enter(s)</span></code> to have a character enter the chatroom.</p>
</div>
<p>To get the message <code class="docutils literal notranslate"><span class="pre">Character</span> <span class="pre">has</span> <span class="pre">left</span> <span class="pre">the</span> <span class="pre">chatroom</span></code>, use the <code class="docutils literal notranslate"><span class="pre">exit</span> <span class="pre">chatroom</span></code> CDS:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">exit</span> <span class="n">chatroom</span> <span class="n">s</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable of the character who is exiting the chatroom.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">exit(s)</span></code> to have a character leave the chatroom.</p>
</div>
</div>
<div class="section" id="clearing-the-chat-history">
<h3>Clearing the Chat History<a class="headerlink" href="#clearing-the-chat-history" title="Permalink to this headline">¶</a></h3>
<p>If you would like to clear the chat history so that all previous messages are erased, you can use the <code class="docutils literal notranslate"><span class="pre">clear</span> <span class="pre">chat</span></code> CDS:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="s2">&quot;Anyway, I should go now.&quot;</span>
<span class="n">exit</span> <span class="n">chatroom</span> <span class="n">y</span>
<span class="k">clear</span> <span class="n">chat</span>
<span class="n">enter</span> <span class="n">chatroom</span> <span class="n">u</span>
<span class="k">scene</span> <span class="n">hack</span>
<span class="n">u</span> <span class="s2">&quot;Hi, [name].&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The chat history is automatically cleared before beginning a new chatroom.</p>
</div>
</div>
<div class="section" id="clearing-chatroom-participants">
<h3>Clearing Chatroom Participants<a class="headerlink" href="#clearing-chatroom-participants" title="Permalink to this headline">¶</a></h3>
<p>If you would like to clear all current chatroom participants from the chatroom header, you can use the extra argument <code class="docutils literal notranslate"><span class="pre">participants</span></code> for the <code class="docutils literal notranslate"><span class="pre">clear</span> <span class="pre">chat</span></code> CDS:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">my_chatroom</span><span class="p">:</span>
    <span class="k">scene</span> <span class="n">morning</span>
    <span class="k">play</span> <span class="k">music</span> <span class="n">narcisisstic_jazz</span>
    <span class="n">enter</span> <span class="n">chatroom</span> <span class="n">z</span>
    <span class="n">z</span> <span class="s2">&quot;Has the chatroom been acting up for you too, [name]?&quot;</span>
    <span class="n">msg</span> <span class="n">z</span> <span class="s2">&quot;I&#39;ve been having trouble with it all morning.&quot;</span> <span class="n">sigh_s</span>
    <span class="k">clear</span> <span class="n">chat</span> <span class="n">participants</span>
    <span class="k">scene</span> <span class="n">hack</span>
    <span class="n">u</span> <span class="s2">&quot;Ah, excellent.&quot;</span>
    <span class="n">u</span> <span class="s2">&quot;I&#39;ve gained access to the messenger.&quot;</span>
</pre></div>
</div>
<p>This will both clear the chat history and remove any existing participants from the list at the top of the messenger screen.</p>
<p>This isn’t typically used outside of using story mode sections in the middle of chatrooms (see <a class="reference internal" href="story-mode.html#including-a-story-mode-during-a-chatroom"><span class="std std-ref">Including a Story Mode During a Chatroom</span></a>) or linking together “separate” chatrooms as part of a scene for something like an After End.</p>
</div>
<div class="section" id="providing-choices">
<h3>Providing Choices<a class="headerlink" href="#providing-choices" title="Permalink to this headline">¶</a></h3>
<p>During a chatroom, you may want to allow the player to make a choice. This can be accomplished with Ren’Py’s built-in menu system:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;What kind of food do you eat?&quot;</span>
<span class="k">menu</span><span class="p">:</span>
    <span class="s2">&quot;I like soup.&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;You like soup?&quot;</span>
    <span class="s2">&quot;I eat a lot of junk food.&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;lolol same.&quot;</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;But you should have a balanced diet, unlike me~&quot;</span> <span class="n">glow</span>
</pre></div>
</div>
<p>Note that for this menu, it is assumed that <code class="docutils literal notranslate"><span class="pre">paraphrase_choices</span></code> is turned on for this route. This means that the main character will automatically say the exact dialogue on the chosen choice. If <code class="docutils literal notranslate"><span class="pre">paraphrase_choices</span></code> is turned off, the menu might look something like this:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;What kind of food do you eat?&quot;</span>
<span class="k">menu</span><span class="p">:</span>
    <span class="s2">&quot;I like soup.&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">m</span> <span class="s2">&quot;I like soup.&quot;</span> <span class="n">pv</span> <span class="mi">0</span>
        <span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;You like soup?&quot;</span>
    <span class="s2">&quot;I eat a lot of junk food.&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">m</span> <span class="s2">&quot;I eat a lot of junk food.&quot;</span> <span class="n">pv</span> <span class="mi">0</span>
        <span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;lolol same.&quot;</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;But you should have a balanced diet, unlike me~&quot;</span> <span class="n">glow</span>
</pre></div>
</div>
<p>You can also turn <code class="docutils literal notranslate"><span class="pre">paraphrased</span></code> on or off on a per-menu or per-choice basis. For more on paraphrasing, see <a class="reference internal" href="miscellaneous.html#paraphrased-choices"><span class="std std-ref">Paraphrased Choices</span></a>.</p>
<p>You can add as many choices as you want to the menu, though only 5 options will fit on the screen at once. All code indented after a choice will only be run if the player picks that choice. So, only a player who chose <code class="docutils literal notranslate"><span class="pre">&quot;I</span> <span class="pre">like</span> <span class="pre">soup&quot;</span></code> will see the line <code class="docutils literal notranslate"><span class="pre">&quot;You</span> <span class="pre">like</span> <span class="pre">soup?&quot;</span></code>. Anything indented at the same level as the menu will be run regardless of the choice made, so the player will see the line <code class="docutils literal notranslate"><span class="pre">&quot;But</span> <span class="pre">you</span> <span class="pre">should</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">balanced</span> <span class="pre">diet,</span> <span class="pre">unlike</span> <span class="pre">me~&quot;</span></code> regardless of whether they said they like soup or eat junk food.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">TAB</span></code> key to indent your code an additional level to the right, but make sure your code editor is using spaces to indent code. Otherwise, you will get errors complaining about “tab” characters in your code.</p>
</div>
<p>You’ll also notice in the “paraphrased” version of the menu, the main character (<code class="docutils literal notranslate"><span class="pre">m</span></code>) has the clauses <code class="docutils literal notranslate"><span class="pre">pv</span> <span class="pre">0</span></code> after their dialogue. This tells the program to not wait at all before posting the MC’s message. Usually the program will pause before posting a message to simulate “typing time”, but you want the player’s choice to appear right away after a choice, so you should include <code class="docutils literal notranslate"><span class="pre">pv</span> <span class="pre">0</span></code> if you’re using the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS, or <code class="docutils literal notranslate"><span class="pre">(pauseVal=0)</span></code> if you’re using the spreadsheet style.</p>
</div>
<div class="section" id="showing-a-chatroom-banner">
<h3>Showing a Chatroom Banner<a class="headerlink" href="#showing-a-chatroom-banner" title="Permalink to this headline">¶</a></h3>
<p>There are four special banners included in the program. The available banners are:</p>
<ul class="simple">
<li><p>lightning</p></li>
<li><p>heart</p></li>
<li><p>annoy</p></li>
<li><p>well</p></li>
</ul>
<p>You can show a banner with the code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">banner</span> <span class="n">lightning</span>
</pre></div>
</div>
<p>Note that while the order of <code class="docutils literal notranslate"><span class="pre">banner</span></code> and <code class="docutils literal notranslate"><span class="pre">lightning</span></code> don’t matter, the name is case-sensitive. So, you could also use <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">lightning</span> <span class="pre">banner</span></code> but <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">Lightning</span> <span class="pre">banner</span></code> would not work.</p>
</div>
<div class="section" id="showing-a-heart-icon">
<h3>Showing a Heart Icon<a class="headerlink" href="#showing-a-heart-icon" title="Permalink to this headline">¶</a></h3>
<div class="section" id="awarding-a-heart-point">
<h4>Awarding a heart point<a class="headerlink" href="#awarding-a-heart-point" title="Permalink to this headline">¶</a></h4>
<p>To show a heart icon to the player and award them “heart points” associated with a particular character, use</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">award</span> <span class="n">heart</span> <span class="n">s</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the variable of the character whose heart icon you’d like to show. The player will receive one heart point with that character when this code is run. See <a class="reference internal" href="creating-characters.html#creating-characters"><span class="std std-ref">Creating Characters</span></a> for a list of the characters built-in to the program and how to add your own character.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ray (<code class="docutils literal notranslate"><span class="pre">r</span></code>) and Saeran (<code class="docutils literal notranslate"><span class="pre">sa</span></code>) share heart points. So, if you award a heart point for Saeran via <code class="docutils literal notranslate"><span class="pre">award</span> <span class="pre">heart</span> <span class="pre">sa</span></code>, Ray will also receive 1 heart point.</p>
</div>
<p>There is also a second optional argument to <code class="docutils literal notranslate"><span class="pre">award</span> <span class="pre">heart</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">award</span> <span class="n">heart</span> <span class="n">ju</span> <span class="n">bad</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bad</span></code> tells the program that this heart is a “bad” heart point, and should count towards a bad ending. In-game, a <code class="docutils literal notranslate"><span class="pre">bad</span></code> heart appears the same as a normal heart point. You can use this method to count the number of choices a player makes that would lead towards a bad ending, and then check whether the player made more “good” or “bad” ending choices when they reach a plot branch. See <a class="reference internal" href="plot-branches.html#plot-branches"><span class="std std-ref">Plot Branches</span></a> for more information on this.</p>
</div>
<div class="section" id="removing-a-heart-point">
<h4>Removing a heart point<a class="headerlink" href="#removing-a-heart-point" title="Permalink to this headline">¶</a></h4>
<p>If the player makes a choice a character doesn’t like, you can cause them to lose a point with a character by showing a “heart break” icon.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">break</span> <span class="n">heart</span> <span class="n">ju</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ju</span></code> is the variable of the character whose heart break you’d like to show. This will <strong>always</strong> subtract points from the character’s “good” heart points and never the “bad” points. Note that losing heart points in this way does not subtract from the heart point totals the player uses to unlock additional profile pictures for a character (See <a class="reference internal" href="miscellaneous.html#bonus-profile-pictures"><span class="std std-ref">Bonus Profile Pictures</span></a>).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">heart</span> <span class="pre">ju</span></code> and <code class="docutils literal notranslate"><span class="pre">heart</span> <span class="pre">break</span> <span class="pre">ju</span></code> will show the heart break animation for the character <code class="docutils literal notranslate"><span class="pre">ju</span></code>. You can’t switch the word order for <code class="docutils literal notranslate"><span class="pre">award</span> <span class="pre">heart</span></code> though!</p>
</div>
</div>
</div>
<div class="section" id="showing-the-hacked-scroll-effect">
<h3>Showing the Hacked Scroll Effect<a class="headerlink" href="#showing-the-hacked-scroll-effect" title="Permalink to this headline">¶</a></h3>
<p>To show the scrolling “hack” effect during a chatroom, use the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">hack</span> <span class="n">effect</span>
</pre></div>
</div>
<p>or alternatively,</p>
<blockquote>
<div><p>show redhack effect</p>
</div></blockquote>
<p>for the red version of the scrolling hack image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These effects are not displayed for players who have toggled the <strong>Hacking Effects</strong> setting off.</p>
</div>
</div>
<div class="section" id="shaking-the-screen">
<h3>Shaking the Screen<a class="headerlink" href="#shaking-the-screen" title="Permalink to this headline">¶</a></h3>
<p>To shake the screen, use the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">show</span> <span class="n">shake</span>
</pre></div>
</div>
<p>Screen shake is compatible both with regular backgrounds and with the animated backgrounds.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These effects are not displayed for players who have toggled the <strong>Hacking Effects</strong> setting off.</p>
</div>
</div>
</div>
<div class="section" id="custom-fonts-and-bubbles">
<h2>Custom Fonts and Bubbles<a class="headerlink" href="#custom-fonts-and-bubbles" title="Permalink to this headline">¶</a></h2>
<p>Mysterious Messenger supports user-defined fonts and special bubbles through customizable variables and functions. These work with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS as well as the text tag approach used for the spreadsheet dialogue.</p>
<div class="section" id="custom-fonts">
<h3>Custom Fonts<a class="headerlink" href="#custom-fonts" title="Permalink to this headline">¶</a></h3>
<p>To add your own font to the game, first you need to add it to the <code class="docutils literal notranslate"><span class="pre">all_fonts_list</span></code> found in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">all_fonts_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sser1&#39;</span><span class="p">,</span> <span class="s1">&#39;sser2&#39;</span><span class="p">,</span> <span class="s1">&#39;ser1&#39;</span><span class="p">,</span> <span class="s1">&#39;ser2&#39;</span><span class="p">,</span> <span class="s1">&#39;curly&#39;</span><span class="p">,</span> <span class="s1">&#39;blocky&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In general you should <strong>not</strong> replace this list; just add your new font to the end. For this example, a font called “cursive” will be added.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">all_fonts_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sser1&#39;</span><span class="p">,</span> <span class="s1">&#39;sser2&#39;</span><span class="p">,</span> <span class="s1">&#39;ser1&#39;</span><span class="p">,</span> <span class="s1">&#39;ser2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;curly&#39;</span><span class="p">,</span> <span class="s1">&#39;blocky&#39;</span><span class="p">,</span> <span class="s1">&#39;cursive&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Now you need to add it to the <code class="docutils literal notranslate"><span class="pre">font_dict</span></code>.</p>
<blockquote>
<div><dl>
<dt>define font_dict = { ‘curly’<span class="classifier">gui.curly_font, ‘ser1’</span><span class="classifier">gui.serif_1,</span></dt><dd><blockquote>
<div><p>‘ser1b’ : gui.serif_1b, ‘ser1xb’ : gui.serif_1xb,
‘ser2’ : gui.serif_2, ‘ser2b’ : gui.serif_2b,
‘ser2xb’ : gui.serif_2xb, ‘sser1’ : gui.sans_serif_1,
‘sser1b’ : gui.sans_serif_1b, ‘sser1xb’ : gui.sans_serif_1xb,
‘sser2’ : gui.sans_serif_2, ‘sser2b’ : gui.sans_serif_2b,
‘sser2xb’ : gui.sans_serif_2xb, ‘blocky’ : gui.blocky_font
‘cursive’ : “fonts/cursivefont.ttf”</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</div></blockquote>
<p>“fonts/cursivefont.ttf” should be the path to the <code class="docutils literal notranslate"><span class="pre">.ttf</span></code> or <code class="docutils literal notranslate"><span class="pre">.otf</span></code> file of your desired font.</p>
<p>If your font has bold and/or extra bold variants, you will also add it to the <code class="docutils literal notranslate"><span class="pre">bold_xbold_fonts_list</span></code> variable:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">bold_xbold_fonts_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sser1&#39;</span><span class="p">,</span> <span class="s1">&#39;sser2&#39;</span><span class="p">,</span> <span class="s1">&#39;ser1&#39;</span><span class="p">,</span> <span class="s1">&#39;ser2&#39;</span><span class="p">,</span> <span class="s1">&#39;cursive&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>And you will need to specify how the bold and extra bold variants should be mapped. The bold version of a font is always the name of the font in the <code class="docutils literal notranslate"><span class="pre">all_fonts_list</span></code> + <code class="docutils literal notranslate"><span class="pre">b</span></code>, and the extra bold is the name + <code class="docutils literal notranslate"><span class="pre">xb</span></code>.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">font_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;curly&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">curly_font</span><span class="p">,</span> <span class="s1">&#39;ser1&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_1</span><span class="p">,</span>
        <span class="s1">&#39;ser1b&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_1b</span><span class="p">,</span> <span class="s1">&#39;ser1xb&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_1xb</span><span class="p">,</span>
        <span class="s1">&#39;ser2&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_2</span><span class="p">,</span> <span class="s1">&#39;ser2b&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_2b</span><span class="p">,</span>
        <span class="s1">&#39;ser2xb&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">serif_2xb</span><span class="p">,</span> <span class="s1">&#39;sser1&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_1</span><span class="p">,</span>
        <span class="s1">&#39;sser1b&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_1b</span><span class="p">,</span> <span class="s1">&#39;sser1xb&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_1xb</span><span class="p">,</span>
        <span class="s1">&#39;sser2&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_2</span><span class="p">,</span> <span class="s1">&#39;sser2b&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_2b</span><span class="p">,</span>
        <span class="s1">&#39;sser2xb&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">sans_serif_2xb</span><span class="p">,</span> <span class="s1">&#39;blocky&#39;</span> <span class="p">:</span> <span class="n">gui</span><span class="o">.</span><span class="n">blocky_font</span>
        <span class="s1">&#39;cursive&#39;</span> <span class="p">:</span> <span class="s2">&quot;fonts/cursivefont.ttf&quot;</span><span class="p">,</span>
        <span class="s1">&#39;cursiveb&#39;</span> <span class="p">:</span> <span class="s2">&quot;fonts/cursivefont-bold.ttf&quot;</span><span class="p">,</span>
        <span class="s1">&#39;cursivexb&#39;</span> <span class="p">:</span> <span class="s2">&quot;fonts/cursivefont-xbold.ttf&quot;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>In this example, the bold is called “cursiveb” and the extra bold “cursivexb”. Note that you will need an entry for <strong>both</strong> bold and extra bold, even if you only have one font. In that case, you can set the file path for both entries to the same font.</p>
<p>Finally, if you want to use the font as a text tag, you need to define a style for it. Existing styles can be found in <code class="docutils literal notranslate"><span class="pre">style_definitions.rpy</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="n">cursive</span><span class="p">:</span>
    <span class="na">font</span> <span class="s2">&quot;fonts/cursivefont.ttf&quot;</span>

<span class="k">style</span> <span class="n">cursiveb</span><span class="p">:</span>
    <span class="na">font</span> <span class="s2">&quot;fonts/cursivefont-bold.ttf&quot;</span>

<span class="k">style</span> <span class="n">cursivexb</span><span class="p">:</span>
    <span class="na">font</span> <span class="s2">&quot;fonts/cursivefont-xbold.ttf&quot;</span>
</pre></div>
</div>
<p>Now you can use the font while writing chatroom or text message dialogue. If you use the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS, you need to preface the name of the font with the tag <code class="docutils literal notranslate"><span class="pre">font</span></code> e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;This is a new font!&quot;</span> <span class="na">font</span> <span class="n">cursive</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;You can add other effects, too!&quot;</span> <span class="n">big</span> <span class="na">font</span> <span class="n">cursive</span> <span class="n">xbold</span>
</pre></div>
</div>
<p>And text tags work the way they would with the predefined fonts:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="s2">&quot;{=cursive}This is a bit more verbose.{/=cursive}&quot;</span>
<span class="n">s</span> <span class="s2">&quot;{=cursivexb}Which method you use depends on your preference.{/=cursivexb}&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-bubbles">
<h3>Custom Bubbles<a class="headerlink" href="#custom-bubbles" title="Permalink to this headline">¶</a></h3>
<p>You can also add your own custom bubbles to work with the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS and spreadsheet dialogue method, or expand the functionality of existing bubbles to work for other characters.</p>
<p>To add a new bubble, first you must add it to the <code class="docutils literal notranslate"><span class="pre">all_bubbles_list</span></code> in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code>. For this example, three bubbles called “spooky_s”, “spooky_m”, and “spooky_l” will be added (for small, medium, and large variants).</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">all_bubbles_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cloud_l&#39;</span><span class="p">,</span> <span class="s1">&#39;cloud_m&#39;</span><span class="p">,</span> <span class="s1">&#39;cloud_s&#39;</span><span class="p">,</span> <span class="s1">&#39;round_l&#39;</span><span class="p">,</span>
<span class="s1">&#39;round_m&#39;</span><span class="p">,</span> <span class="s1">&#39;round_s&#39;</span><span class="p">,</span> <span class="s1">&#39;sigh_l&#39;</span><span class="p">,</span> <span class="s1">&#39;sigh_m&#39;</span><span class="p">,</span> <span class="s1">&#39;sigh_s&#39;</span><span class="p">,</span> <span class="s1">&#39;spike_l&#39;</span><span class="p">,</span> <span class="s1">&#39;spike_m&#39;</span><span class="p">,</span>
<span class="s1">&#39;spike_s&#39;</span><span class="p">,</span> <span class="s1">&#39;square_l&#39;</span><span class="p">,</span> <span class="s1">&#39;square_m&#39;</span><span class="p">,</span> <span class="s1">&#39;square_s&#39;</span><span class="p">,</span> <span class="s1">&#39;square2_l&#39;</span><span class="p">,</span> <span class="s1">&#39;square2_m&#39;</span><span class="p">,</span>
<span class="s1">&#39;square2_s&#39;</span><span class="p">,</span> <span class="s1">&#39;round2_l&#39;</span><span class="p">,</span> <span class="s1">&#39;round2_m&#39;</span><span class="p">,</span> <span class="s1">&#39;round2_s&#39;</span><span class="p">,</span> <span class="s1">&#39;flower_l&#39;</span><span class="p">,</span> <span class="s1">&#39;flower_m&#39;</span><span class="p">,</span>
<span class="s1">&#39;flower_s&#39;</span><span class="p">,</span> <span class="s1">&#39;glow2&#39;</span><span class="p">,</span> <span class="s1">&#39;spooky_s&#39;</span><span class="p">,</span> <span class="s1">&#39;spooky_m&#39;</span><span class="p">,</span> <span class="s1">&#39;spooky_l&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Next, you need to define a style for the bubble. Typically the most important property is the padding. First, define a general style:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="n">spooky_s</span><span class="p">:</span>
    <span class="na">padding</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="k">style</span> <span class="n">spooky_m</span><span class="p">:</span>
    <span class="na">padding</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="k">style</span> <span class="n">spooky_l</span><span class="p">:</span>
    <span class="na">padding</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<p>This defines a style for the spooky bubbles with 25 pixels of padding on the left, top, right, and bottom of the bubble. These numbers should, of course, be adjusted to suit the actual bubble image you’re using.</p>
<p>Next, if any characters have a variant of this bubble that requires different styling, you can define a style for them. For example, if the padding for <code class="docutils literal notranslate"><span class="pre">s</span></code>’s spooky_m bubble is different, you can create an <code class="docutils literal notranslate"><span class="pre">s_spooky_m</span></code> style:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">style</span> <span class="n">s_spooky_m</span><span class="p">:</span>
    <span class="k">is</span> <span class="n">spooky_m</span> <span class="c1"># This inherits the spooky_m padding</span>
    <span class="na">top_padding</span> <span class="mi">35</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">spooky_m</span></code> tells the style to inherit from the original <code class="docutils literal notranslate"><span class="pre">spooky_m</span></code> style; this is optional, but can be helpful. In this case, it means that the <code class="docutils literal notranslate"><span class="pre">s_spooky_m</span></code> bubble has a left/right/bottom padding of 25, as in the <code class="docutils literal notranslate"><span class="pre">spooky_m</span></code> style, but the <code class="docutils literal notranslate"><span class="pre">top_padding</span></code> is now 35.</p>
<p>And that’s all! To show this special bubble in-game, you must ensure you have the appropriate images defined inside the “Bubbles/Special/” folder.</p>
<ul class="simple">
<li><p>The image extension must be one of <code class="docutils literal notranslate"><span class="pre">.webp</span></code>, <code class="docutils literal notranslate"><span class="pre">.png</span></code>, or <code class="docutils literal notranslate"><span class="pre">.jpg</span></code></p></li>
<li><p>If every character uses the same bubble, it is sufficient to have a “Bubbles/Special/spooky_s.webp” image. Otherwise, you will need an image with the file_id of each character who has a variant e.g. “Bubbles/Special/ja_spooky_s.webp”, “Bubbles/Special/ju_spooky_s.webp”, etc.</p></li>
</ul>
<p>Then you can write dialogue which will show the bubble in-game e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">ju</span> <span class="s2">&quot;This will use the spooky_m bubble.&quot;</span> <span class="p">(</span><span class="n">bounce</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">specBubble</span><span class="o">=</span><span class="s2">&quot;spooky_m&quot;</span><span class="p">)</span>
<span class="n">msg</span> <span class="n">ja</span> <span class="s2">&quot;This message will also use the spooky_m bubble&quot;</span> <span class="n">bubble</span> <span class="n">spooky_m</span>
</pre></div>
</div>
<p>Unlike the predefined bubbles, custom bubbles must be prefixed with <code class="docutils literal notranslate"><span class="pre">bubble</span></code> as in <code class="docutils literal notranslate"><span class="pre">bubble</span> <span class="pre">spooky_m</span></code> when used in the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can also add the name of your bubble to the <code class="docutils literal notranslate"><span class="pre">hourglass_bubbles</span></code> variable in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code>. This means that when a character uses that bubble in-game, it has a chance of awarding the player an hourglass.</p>
<p>Typically only the large (<code class="docutils literal notranslate"><span class="pre">l</span></code>) version of a bubble is added to this list e.g. <code class="docutils literal notranslate"><span class="pre">&quot;spooky_l&quot;</span></code></p>
</div>
</div>
<div class="section" id="extending-custom-bubbles">
<h3>Extending Custom Bubbles<a class="headerlink" href="#extending-custom-bubbles" title="Permalink to this headline">¶</a></h3>
<p>Besides adding your own bubbles, you can also extend the functionality of existing bubbles (or your own custom bubbles) via some special provided functions in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code>. There are three such functions. All are passed a <code class="docutils literal notranslate"><span class="pre">msg</span></code> variable, which is a ChatEntry object with the following fields:</p>
<dl>
<dt><cite>who</cite></dt><dd><p>The ChatCharacter object of the sender of the message.</p>
<p>e.g. <code class="docutils literal notranslate"><span class="pre">s</span></code></p>
</dd>
<dt><cite>what</cite></dt><dd><p>The contents (dialogue) of the message.</p>
<p>e.g. “Have you heard from V lately?”</p>
</dd>
<dt><cite>thetime</cite></dt><dd><p>A MyTime object with information on the time the message was sent at (in real-time)</p>
</dd>
<dt><cite>img</cite></dt><dd><p>True if this message contains either an emoji or a CG; False otherwise.</p>
</dd>
<dt><cite>bounce</cite></dt><dd><p>True if this message should “bounce” in as its animation. This is True if the message uses the “glowing” style of bubble, and also True if a special speech bubble is used (such as “cloud_m”). It is generally False for images and the default speech bubble.</p>
</dd>
<dt><cite>specBubble</cite></dt><dd><p>The special bubble. Typically this is equal to somethingn like “sigh_s” or “spike_l”. However, you can pass in particular strings and use this function to take care of what background image it should evaluate to.</p>
</dd>
</dl>
<div class="section" id="custom-bubble-background-function">
<h4>Custom Bubble Background Function<a class="headerlink" href="#custom-bubble-background-function" title="Permalink to this headline">¶</a></h4>
<p>Inside <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code> is a function called <code class="docutils literal notranslate"><span class="pre">custom_bubble_bg</span></code> under the <strong>CUSTOM MESSENGER ITEMS</strong> header. Each chatroom message is passed to this function, which allows you a chance to check for certain conditions and return particular bubble backgrounds. For example, although currently characters can only use the special bubbles associated with their file_id, you could add a statement which will allow them to use each other’s special speech bubbles:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_bubble_bg</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span> <span class="k">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">specBubble</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># msg.specBubble checks if the message is using a special bubble</span>
        <span class="c1"># specBubble.split(&#39;_&#39;) splits the special bubble into separate</span>
        <span class="c1"># words based on the &#39;_&#39; character. So, &quot;square_m&quot; becomes</span>
        <span class="c1"># [&quot;square&quot;, &quot;m&quot;]. the len() function checks the length of the</span>
        <span class="c1"># resulting list, so [&quot;square&quot;, &quot;m&quot;] has a length of 2. If the list</span>
        <span class="c1"># is more than 2 long, it means it was something like &quot;r_round_s&quot;</span>
        <span class="c1"># so it was split into [&quot;r&quot;, &quot;round&quot;, &quot;s&quot;], aka a length of 3</span>
        <span class="c1"># In this case, the program shouldn&#39;t automatically add the</span>
        <span class="c1"># character&#39;s file_id to the bubble.</span>

        <span class="k">return</span> <span class="s2">&quot;Bubble/Special/&quot;</span> <span class="o">+</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span> <span class="o">+</span> <span class="s2">&quot;.webp&quot;</span>

    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The above code will then allow you to write dialogue such as</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="s2">&quot;Look, I&#39;m using Jumin&#39;s bubble!&quot;</span> <span class="p">(</span><span class="n">bounce</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">specBubble</span><span class="o">=</span><span class="s2">&quot;ju_cloud_l&quot;</span><span class="p">)</span>
<span class="n">msg</span> <span class="n">s</span> <span class="s2">&quot;This message uses it too!&quot;</span> <span class="n">bubble</span> <span class="n">ju_cloud_m</span>
</pre></div>
</div>
<p>in order to have the characters use each other’s special speech bubbles.</p>
<p>Note that you can also return general displayables, such as a Frame(), inside the <code class="docutils literal notranslate"><span class="pre">custom_bubble_bg</span></code> function. For example, you could give Emma (from the new character examples) a second “glowing” bubble variant:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_bubble_bg</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">who</span><span class="o">.</span><span class="n">file_id</span> <span class="o">==</span> <span class="s2">&quot;em&quot;</span> <span class="k">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span> <span class="o">==</span> <span class="s2">&quot;glow2&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Frame</span><span class="p">(</span><span class="s2">&quot;Bubble/Special/em_glow2.webp&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<p>This returns the “Bubble/Special/em_glow2.webp” image, formatted as a frame with borders 25 pixels wide. The inside of the bubble will expand to be large enough to accommodate the text (this is how the regular speech bubbles and glowing bubble variants are defined and used).</p>
<p>You could then write dialogue to use this bubble like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">em</span> <span class="s2">&quot;This goes in my glowing bubble.&quot;</span> <span class="p">(</span><span class="n">bounce</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">specBubble</span><span class="o">=</span><span class="s2">&quot;glow2&quot;</span><span class="p">)</span>
<span class="n">msg</span> <span class="n">em</span> <span class="s2">&quot;As does this message.&quot;</span> <span class="n">bubble</span> <span class="n">glow2</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-bubble-style-function">
<h4>Custom Bubble Style Function<a class="headerlink" href="#custom-bubble-style-function" title="Permalink to this headline">¶</a></h4>
<p>Although the program will try to pick out specific styles based on the name of the special speech bubble used, there may be some cases in which you want to apply a particular style to a bubble. The <code class="docutils literal notranslate"><span class="pre">custom_bubble_style</span></code> function in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code> will let you return a particular style.</p>
<p>For example, if you want the characters to be able to use each other’s special bubbles as shown in the example for the last section, you will also need them to use the other characters’ bubble styles:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_bubble_style</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span> <span class="k">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">specBubble</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># See the example in the last section to understand what this</span>
        <span class="c1"># conditional statement is checking for</span>
        <span class="k">return</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span>

    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<p>This will ensure that a character using another character’s special bubble background will still get the original character’s bubble styling as well.</p>
<p>This function should return a string that corresponds to the name of a style. For example, if you want a bubble to use the style <code class="docutils literal notranslate"><span class="pre">style</span> <span class="pre">my_special_bubble</span></code>, then you need to return the string <code class="docutils literal notranslate"><span class="pre">&quot;my_special_bubble&quot;</span></code>.</p>
</div>
<div class="section" id="custom-bubble-offset-function">
<h4>Custom Bubble Offset Function<a class="headerlink" href="#custom-bubble-offset-function" title="Permalink to this headline">¶</a></h4>
<p>This function allows you to fine-tune the offset of a message, relative to the top-left corner of the message box (typically the top-left corner of the character’s profile picture). For example, if you wanted special speech bubbles to appear appropriately for the character on the right side of the messenger (typically the MC), you would need to adjust these values appropriately. This function is expected to return either False or a tuple of (x, y) integers for the position of this bubble.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_bubble_offset</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">who</span><span class="o">.</span><span class="n">right_msgr</span> <span class="k">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">specBubble</span><span class="p">:</span>
        <span class="c1"># This character is on the right side of the screen</span>
        <span class="c1"># using a special bubble</span>
        <span class="c1"># You will likely need more specific styling for particular bubbles,</span>
        <span class="c1"># but this will return a generic position for each bubble.</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-chatroom-backgrounds">
<h2>Adding Chatroom Backgrounds<a class="headerlink" href="#adding-chatroom-backgrounds" title="Permalink to this headline">¶</a></h2>
<p>Chatroom backgrounds must be defined in a particular way in order to be compatible with the <code class="docutils literal notranslate"><span class="pre">scene</span></code> and <code class="docutils literal notranslate"><span class="pre">show</span></code> statements to display them.</p>
<p>Existing background options are:</p>
<ul class="simple">
<li><p>morning</p></li>
<li><p>noon</p></li>
<li><p>evening</p></li>
<li><p>night</p></li>
<li><p>earlyMorn</p></li>
<li><p>hack</p></li>
<li><p>redhack</p></li>
<li><p>redcrack</p></li>
</ul>
<p>The background names <strong>are</strong> case-sensitive, so you need to get the capitalization correct.</p>
<p>For this example, a new background that will be displayed using <code class="docutils literal notranslate"><span class="pre">scene</span> <span class="pre">rainy_day</span></code> will be added.</p>
<p>To add a new background, inside <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code> under the header <strong>CUSTOM MESSENGER ITEMS</strong> are several variables. First, you need to define the image that will be used as the background. This should be <code class="docutils literal notranslate"><span class="pre">bg</span></code> + the name of the image as you want to write when displaying it in a chatroom:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">bg</span> <span class="n">rainy_day</span> <span class="o">=</span> <span class="s2">&quot;center_bg:Phone UI/bg-rainy_day.webp&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">center_bg:</span></code> before the file path to the image file itself is optional, but will center the image on the screen if it is not exactly 750x1334 pixels. If your image is exactly 750x1334 pixels, then just <code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">bg</span> <span class="pre">rainy_day</span> <span class="pre">=</span> <span class="pre">&quot;Phone</span> <span class="pre">UI/bg-rainy_day.webp&quot;</span></code> would be sufficient.</p>
<p>You can put this image definition wherever you like, though it may make sense to keep it under the <strong>CUSTOM MESSENGER ITEMS</strong> header alongside the background variable definitions.</p>
<p>Next, add the background name to the <code class="docutils literal notranslate"><span class="pre">all_static_backgrounds</span></code> list:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">all_static_backgrounds</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;morning&#39;</span><span class="p">,</span> <span class="s1">&#39;noon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">,</span> <span class="s1">&#39;hack&#39;</span><span class="p">,</span>
            <span class="s1">&#39;redhack&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">,</span> <span class="s1">&#39;earlyMorn&#39;</span><span class="p">,</span> <span class="s1">&#39;redcrack&#39;</span><span class="p">,</span> <span class="s1">&#39;rainy_day&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that you do <strong>not</strong> add the “bg” part to the name of your background.</p>
<p>Next, if the characters’ names should appear in black during a chatroom (as is typical of the lighter backgrounds, such as “morning” and “noon”), you also need to add it to the <code class="docutils literal notranslate"><span class="pre">black_text_bgs</span></code> list:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">black_text_bgs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;morning&#39;</span><span class="p">,</span> <span class="s1">&#39;noon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">,</span> <span class="s1">&#39;rainy_day&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Otherwise, if the background is not in this list, the characters’ names will be displayed in white.</p>
<div class="section" id="adding-an-animated-background">
<h3>Adding an Animated Background<a class="headerlink" href="#adding-an-animated-background" title="Permalink to this headline">¶</a></h3>
<p>If you would also like to add an animated version of your new background, you need to define a specific screen for it. First, however, you will add the background to the <code class="docutils literal notranslate"><span class="pre">all_animated_backgrounds</span></code> list in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">define</span> <span class="n">all_animated_backgrounds</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;morning&#39;</span><span class="p">,</span> <span class="s1">&#39;noon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">,</span>
            <span class="s1">&#39;earlyMorn&#39;</span><span class="p">,</span> <span class="s1">&#39;rainy_day&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Next, you need to define the screen which will have the animated background. The existing backgrounds are defined in <code class="docutils literal notranslate"><span class="pre">screens_backgrounds.rpy</span></code>.</p>
<p>Because the new background is called “rainy_day”, you need to create a new screen called <code class="docutils literal notranslate"><span class="pre">animated_rainy_day</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">animated_rainy_day</span><span class="p">():</span>
    <span class="k">zorder</span> <span class="mi">0</span>
    <span class="k">tag</span> <span class="n">animated_bg</span>

    <span class="c1"># add images here</span>
</pre></div>
</div>
<p>You <strong>must</strong> include the lines <code class="docutils literal notranslate"><span class="pre">zorder</span> <span class="pre">0</span></code> (to ensure the animated backgrounds appears behind other screen elements) and <code class="docutils literal notranslate"><span class="pre">tag</span> <span class="pre">animated_bg</span></code> (to ensure only one animated background is shown at once, and so that the background is properly cleared at the end of a chatroom).</p>
<p>You can then add animated elements to the screen. For a rainy day background, for example, you might take advantage of the existing <code class="docutils literal notranslate"><span class="pre">slow_pan</span></code> transform for clouds, and perhaps add raindrops which fall from the top of the screen to the bottom. As the exact requirements for a given animated background will vary substantially depending on what sort of background you want to add, this part is largely up to your own skill with screen language. You can see how the existing animated backgrounds are put together in the <code class="docutils literal notranslate"><span class="pre">screens_backgrounds.rpy</span></code> file.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you would like to include an animated background, it must have a corresponding “static” version that can be displayed to users who don’t have animated backgrounds turned on.</p>
</div>
</div>
</div>
<div class="section" id="timed-menus">
<h2>Timed Menus<a class="headerlink" href="#timed-menus" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Example files to look at:</p>
<ul class="simple">
<li><p>tutorial_5_coffee.rpy</p></li>
<li><p>tutorial_6_meeting.rpy</p></li>
</ul>
</div>
<p>Mysterious Messenger includes a new kind of menu which will display answers at the bottom of the screen for a brief period of time while the characters continue to post messages to the chat. The player can choose an answer at any time before the timer runs out, or refrain from choosing anything and stay silent. The time the player has to choose a reply depends on the length of the dialogue before the menu. Currently, this type of menu is <strong>only</strong> available for chatrooms.</p>
<p>An example timed menu may look like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="s2">&quot;Hello, [name]!&quot;</span>
<span class="n">timed</span> <span class="k">menu</span><span class="p">:</span>
    <span class="n">u</span> <span class="s2">&quot;I&#39;m working on a UI for the choices you see at the bottom of the screen.&quot;</span>
    <span class="n">u</span> <span class="s2">&quot;It&#39;s typed almost identically to regular menus this time,&quot;</span>
    <span class="n">u</span> <span class="s2">&quot;but with some convenience features I think you&#39;ll like.&quot;</span>
    <span class="n">u</span> <span class="s2">&quot;You should try clicking the options before the timer runs out.&quot;</span>
    <span class="s2">&quot;This is really neat!&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;I&#39;m glad you think so!&quot;</span> <span class="n">curly</span>
        <span class="n">award</span> <span class="n">heart</span> <span class="n">u</span>
    <span class="s2">&quot;Does it remember choices?&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;Yes it does!&quot;</span> <span class="n">bounce</span> <span class="n">big</span> <span class="n">curly</span>
        <span class="n">award</span> <span class="n">heart</span> <span class="n">u</span>
        <span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;And you can use regular Ren&#39;Py code in the choices&quot;</span>
        <span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;to do things like award heart points and the like.&quot;</span> <span class="n">curly</span>
<span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;You can choose an answer any time while the choices are on-screen,&quot;</span>
<span class="n">msg</span> <span class="n">u</span> <span class="s2">&quot;Or just let the timer run out to stay silent, too.&quot;</span>
</pre></div>
</div>
<p>Timed menus are written almost identically to regular Ren’Py menus, but you can add as many lines of dialogue before the first choice as you like. The choices included in the menu will be on-screen while the dialogue after the <code class="docutils literal notranslate"><span class="pre">timed</span> <span class="pre">menu:</span></code> statement is shown.</p>
<p>The dialogue for the menu can be written using the <code class="docutils literal notranslate"><span class="pre">msg</span></code> CDS or the spreadsheet format. You can also include other regular scripting lines, such as characters entering/exiting chatrooms, inviting guests, or awarding heart points. You can include conditional statements inside the menu dialogue or on choices themselves e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="n">ju</span> <span class="s2">&quot;[name], do you own a cat?&quot;</span>
<span class="k">menu</span><span class="p">:</span>
    <span class="s2">&quot;No.&quot;</span><span class="p">:</span>
        <span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="s2">&quot;I do.&quot;</span><span class="p">:</span>
        <span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">ju</span> <span class="s2">&quot;I see. Cats are wonderful creatures, aren&#39;t they?&quot;</span>
<span class="n">timed</span> <span class="k">menu</span><span class="p">:</span>
    <span class="n">ju</span> <span class="s2">&quot;Elizabeth the 3rd has been a constant source of joy in my life&quot;</span>
    <span class="k">if</span> <span class="n">owns_cat</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;as I&#39;m sure your cat is in yours.&quot;</span>
    <span class="n">ju</span> <span class="s2">&quot;It&#39;s a shame some may never know the joy of owning a cat.&quot;</span>
    <span class="s2">&quot;Some people are allergic though, like Zen.&quot;</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;That is true.&quot;</span>
        <span class="n">ju</span> <span class="s2">&quot;I believe that can be overcome with appropriate medication.&quot;</span>
    <span class="s2">&quot;I don&#39;t know what I&#39;d do without my cat&quot;</span> <span class="k">if</span> <span class="n">owns_cat</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;May the two of you never have to be parted, then.&quot;</span>
    <span class="s2">&quot;I think dogs are better, though.&quot;</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;Hmm. I don&#39;t agree but I will respect your opinion.&quot;</span>
</pre></div>
</div>
<p>For this menu, the line “as I’m sure your cat is in yours” only appears to a player who previously answered that they own a cat. Similarly, a player who didn’t say they own a cat will not see the choice “I don’t know what I’d do without my cat”.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since the choices for a timed menu are smaller, it’s often a good idea to either paraphrase the choices and/or keep the amount of text for each choice caption short. A maximum of three choices can appear on the screen at once for a timed menu.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While you can use Python statements inside timed menus, such as <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">owns_cat</span> <span class="pre">=</span> <span class="pre">True</span></code>, you <strong>should not change the value of variables that are used in the menu</strong>, such as in conditionals. This will cause undefined behaviour. So, the following is <strong>incorrect</strong>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">timed</span> <span class="k">menu</span><span class="p">:</span>
    <span class="n">ju</span> <span class="s2">&quot;I believe you mentioned you own a cat, [name]?&quot;</span>
    <span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ju</span> <span class="s2">&quot;They are wonderful companions.&quot;</span>
    <span class="s2">&quot;Yeah I do own a cat&quot;</span> <span class="k">if</span> <span class="n">owns_cat</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;I see.&quot;</span>
    <span class="s2">&quot;I don&#39;t have a cat&quot;</span> <span class="k">if</span> <span class="k">not</span> <span class="n">owns_cat</span><span class="p">:</span>
        <span class="n">ju</span> <span class="s2">&quot;Oh, I was mistaken.&quot;</span>
</pre></div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">owns_cat</span></code> was set to True inside the menu itself, its initial value before the menu (False) is used and it will be impossible for the player to ever see the “Yeah I do own a cat” choice, even if they see all the timed menu dialogue.</p>
<p>You can, however, set variables inside the menu provided they are not used in that same menu. So, the following is acceptable:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="c1"># These variables are set up outside the menu in the case that the player</span>
<span class="c1"># doesn&#39;t see the full menu</span>
<span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">$</span> <span class="n">answered_jumin</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">timed</span> <span class="k">menu</span><span class="p">:</span>
    <span class="n">ju</span> <span class="s2">&quot;Do you own a cat, [name]?&quot;</span>
    <span class="n">ju</span> <span class="s2">&quot;Elizabeth the 3rd has been a constant source of joy in my life&quot;</span>
    <span class="n">ju</span> <span class="s2">&quot;It&#39;s a shame some may never know the joy of owning a cat.&quot;</span>
    <span class="k">$</span> <span class="n">answered_jumin</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="s2">&quot;I have a cat.&quot;</span><span class="p">:</span>
        <span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">$</span> <span class="n">answered_jumin</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ju</span> <span class="s2">&quot;You&#39;re someone of excellent taste, I see.&quot;</span>
    <span class="s2">&quot;I don&#39;t have a cat.&quot;</span><span class="p">:</span>
        <span class="k">$</span> <span class="n">owns_cat</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">$</span> <span class="n">answered_jumin</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ju</span> <span class="s2">&quot;Ah, that is most unfortunate then.&quot;</span>
<span class="k">if</span> <span class="k">not</span> <span class="n">answered_jumin</span><span class="p">:</span>
    <span class="c1"># The player didn&#39;t reply to the timed menu</span>
    <span class="n">ju</span> <span class="s2">&quot;I apologize if that was an overly personal question.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="timed-menu-settings">
<h3>Timed Menu Settings<a class="headerlink" href="#timed-menu-settings" title="Permalink to this headline">¶</a></h3>
<p>There are two options in the settings that affect timed menus. Both are found under the Preferences tab. The first is <strong>Timed Menu Speed</strong>, a slider at the top of the screen. Clicking the title will cause the timed menu speed to be set to your current chatroom speed. Moving the slider further to the left will slow timed menus down (giving the player more time to reply), and moving the slider further to the right will speed timed menus up.</p>
<p>This creates a sort of “bullet time” for timed menus, where the regular chat speed may be very fast, but the timed menus will slow down to give the player time to read the messages and possible responses before deciding what to do.</p>
<p>The second option is under <strong>Accessibility Options</strong> and allows the player to toggle timed menus off altogether. If timed menus are turned off, the menu will act like a regular menu. All of the dialogue before the choices will be shown, and then the player will be presented with the “answer” button at the bottom of the screen. They will be able to choose between any of the given answers, or use a special choice that will be shown as “(Say nothing)” and will function as though the timer on the menu ran out without the player responding.</p>
<p>Keep these options in mind when using timed menus in your script, as not all players will want to keep them turned on.</p>
</div>
<div class="section" id="timed-menu-functionality">
<h3>Timed Menu Functionality<a class="headerlink" href="#timed-menu-functionality" title="Permalink to this headline">¶</a></h3>
<p>There are a few special things to note about timed menus:</p>
<ul>
<li><p>The time the player has to answer the timed menu depends on what the <strong>Timed Menu Speed</strong> slider in the settings is set to. By default this is set to the equivalent of SPEED 5 in the chatrooms.</p></li>
<li><p>The timed menu’s timer will expire after all the dialogue inside the menu before the choices has been posted. How long it takes to post all the messages depends on the <strong>Timed Menu Speed</strong> as mentioned above. So, regardless of the player’s chat speed or timed menu speed, they will always have enough time to view all the dialogue inside a menu before choosing an answer.</p></li>
<li><p>If a player is on Max Speed, the timed menu will be skipped entirely. The dialogue will be posted, but there will be no choices at the bottom of the screen and the program will act as though the player did not reply.</p>
<blockquote>
<div><ul class="simple">
<li><p>However, if the player has timed menus turned off, the answer button will still appear at the bottom of the screen and allow the player to choose an answer (or choose to remain silent)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If a player chooses an answer before all the menu dialogue has been posted, they will not be able to see the rest of the menu dialogue.</p></li>
<li><p>If a player replays a chatroom with timed menus from the History screen, it will always act as though the Timed Menus option is turned <strong>off</strong>; that is, the chat will always stop at the end of the timed menu dialogue and show the answer button to allow the player to pick a response they have previously seen in-game.</p>
<blockquote>
<div><ul class="simple">
<li><p>If the player has never chosen any of the menu choices in a past playthrough, the answer button and choices will not appear at all (since the only option would be to remain silent). The menu dialogue will be posted and the chat will simply move on.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If all the choices in the menu have a conditional dictating when they should be shown (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;I</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">visit</span> <span class="pre">Seven&quot;</span> <span class="pre">if</span> <span class="pre">s.heart_points</span> <span class="pre">&gt;</span> <span class="pre">10:</span></code>) and none of those conditions evaluate to True (that is, none of the choices should be shown to the player because they don’t meet the conditions), then the menu dialogue will be shown only if <code class="docutils literal notranslate"><span class="pre">show_empty_menus</span></code> is True. This variable can be found in <code class="docutils literal notranslate"><span class="pre">variables_editable.rpy</span></code> and is True by default. If set to False, if a menu has no valid choices then the menu dialogue will be skipped altogether and the chat will continue after the menu.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="phone-calls.html" class="btn btn-neutral float-right" title="Phone Calls" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="git-setup.html" class="btn btn-neutral float-left" title="Git Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shawna P

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>